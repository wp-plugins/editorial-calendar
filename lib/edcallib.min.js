var humanMsg={setup:function(a,b){humanMsg.msgID="humanMsg";humanMsg.logID="humanMsgLog";if(a==undefined)a="body";humanMsg.msgOpacity=0.8;if(b!=undefined)humanMsg.msgOpacity=parseFloat(b);jQuery(a).append('<div id="'+humanMsg.msgID+'" class="humanMsg"><div class="round"></div><p></p><div class="round"></div></div>');jQuery("#"+humanMsg.logID+" p").click(function(){jQuery(this).siblings("ul").slideToggle()})},displayMsg:function(a){if(a!=""){clearTimeout(humanMsg.t2);jQuery("#"+humanMsg.msgID+" p").html(a);
jQuery("#"+humanMsg.msgID+"").show().animate({opacity:humanMsg.msgOpacity},200,function(){jQuery("#"+humanMsg.logID).show().children("ul").prepend("<li>"+a+"</li>").children("li:first").slideDown(200);jQuery("#"+humanMsg.logID+" ul").css("display")=="none"&&jQuery("#"+humanMsg.logID+" p").animate({bottom:40},200,"linear",function(){jQuery(this).animate({bottom:0},300,"easeOutBounce",function(){jQuery(this).css({bottom:0})})})});humanMsg.t1=setTimeout("humanMsg.bindEvents()",700);humanMsg.t2=setTimeout("humanMsg.removeMsg()",
5000)}},bindEvents:function(){jQuery(window).mousemove(humanMsg.removeMsg).click(humanMsg.removeMsg).keypress(humanMsg.removeMsg)},removeMsg:function(){jQuery(window).unbind("mousemove",humanMsg.removeMsg).unbind("click",humanMsg.removeMsg).unbind("keypress",humanMsg.removeMsg);jQuery("#"+humanMsg.msgID).css("opacity")==humanMsg.msgOpacity&&jQuery("#"+humanMsg.msgID).animate({opacity:0},500,function(){jQuery(this).hide()})}};jQuery(document).ready(function(){humanMsg.setup()});(function(a){a.fn.bgIframe=a.fn.bgiframe=function(b){if(a.browser.msie&&parseInt(a.browser.version)<=6){b=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},b||{});var g=function(d){return d&&d.constructor==Number?d+"px":d},c='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+b.src+'"style="display:block;position:absolute;z-index:-1;'+(b.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(b.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":
g(b.top))+";left:"+(b.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":g(b.left))+";width:"+(b.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":g(b.width))+";height:"+(b.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":g(b.height))+';"/>';return this.each(function(){a("> iframe.bgiframe",this).length==0&&this.insertBefore(document.createElement(c),this.firstChild)})}return this};if(!a.browser.version)a.browser.version=navigator.userAgent.toLowerCase().match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)[1]})(jQuery);(function(a){a.each({focus:"focusin",blur:"focusout"},function(b,g){a.event.special[g]={setup:function(){if(a.browser.msie)return false;this.addEventListener(b,a.event.special[g].handler,true)},teardown:function(){if(a.browser.msie)return false;this.removeEventListener(b,a.event.special[g].handler,true)},handler:function(c){arguments[0]=a.event.fix(c);arguments[0].type=g;return a.event.handle.apply(this,arguments)}}});a.extend(a.fn,{delegate:function(b,g,c){return this.bind(b,function(d){var f=a(d.target);
if(f.is(g))return c.apply(f,arguments)})},triggerEvent:function(b,g){return this.triggerHandler(b,[a.event.fix({type:b,target:g})])}})})(jQuery);(function(a){a.tools=a.tools||{};a.tools.scrollable={version:"1.1.2",conf:{size:5,vertical:false,speed:400,keyboard:true,keyboardSteps:null,disabledClass:"disabled",hoverClass:null,clickable:true,activeClass:"active",easing:"swing",loop:false,items:".items",item:null,prev:".prev",next:".next",prevPage:".prevPage",nextPage:".nextPage",api:false}};var b;function g(c,d){var f=this,m=a(this),n=!d.vertical,k=c.children(),e=0,i;b||(b=f);a.each(d,function(h,j){a.isFunction(j)&&m.bind(h,j)});if(k.length>
1)k=a(d.items,c);function l(h){var j=a(h);return d.globalNav?j:c.parent().find(h)}c.data("finder",l);var o=l(d.prev),r=l(d.next),q=l(d.prevPage),p=l(d.nextPage);a.extend(f,{getIndex:function(){return e},getClickIndex:function(){var h=f.getItems();return h.index(h.filter("."+d.activeClass))},getConf:function(){return d},getSize:function(){return f.getItems().size()},getPageAmount:function(){return Math.ceil(this.getSize()/d.size)},getPageIndex:function(){return Math.ceil(e/d.size)},getNaviButtons:function(){return o.add(r).add(q).add(p)},
getRoot:function(){return c},getItemWrap:function(){return k},getItems:function(){return k.children(d.item)},getVisibleItems:function(){return f.getItems().slice(e,e+d.size)},seekTo:function(h,j,s){if(h<0)h=0;if(e===h)return f;if(a.isFunction(j))s=j;if(h>f.getSize()-d.size)return d.loop?f.begin():this.end();var u=f.getItems().eq(h);if(!u.length)return f;var w=a.Event("onBeforeSeek");m.trigger(w,[h]);if(w.isDefaultPrevented())return f;if(j===undefined||a.isFunction(j))j=d.speed;function x(){s&&s.call(f,
h);m.trigger("onSeek",[h])}n?k.animate({left:-u.position().left},j,d.easing,x):k.animate({top:-u.position().top},j,d.easing,x);b=f;e=h;w=a.Event("onStart");m.trigger(w,[h]);if(w.isDefaultPrevented())return f;o.add(q).toggleClass(d.disabledClass,h===0);r.add(p).toggleClass(d.disabledClass,h>=f.getSize()-d.size);return f},move:function(h,j,s){i=h>0;return this.seekTo(e+h,j,s)},next:function(h,j){return this.move(1,h,j)},prev:function(h,j){return this.move(-1,h,j)},movePage:function(h,j,s){i=h>0;var u=
d.size*h,w=e%d.size;if(w>0)u+=h>0?-w:d.size-w;return this.move(u,j,s)},prevPage:function(h,j){return this.movePage(-1,h,j)},nextPage:function(h,j){return this.movePage(1,h,j)},setPage:function(h,j,s){return this.seekTo(h*d.size,j,s)},begin:function(h,j){i=false;return this.seekTo(0,h,j)},end:function(h,j){i=true;var s=this.getSize()-d.size;return s>0?this.seekTo(s,h,j):f},reload:function(){m.trigger("onReload");return f},focus:function(){return b=f},click:function(h){var j=f.getItems().eq(h),s=d.activeClass,
u=d.size;if(h<0||h>=f.getSize())return f;if(u==1){if(d.loop)return f.next();if(h===0||h==f.getSize()-1)i=i===undefined?true:!i;return i===false?f.prev():f.next()}if(u==2){h==e&&h--;f.getItems().removeClass(s);j.addClass(s);return f.seekTo(h,time,fn)}if(!j.hasClass(s)){f.getItems().removeClass(s);j.addClass(s);j=Math.floor(u/2);j=h-j;if(j>f.getSize()-u)j=f.getSize()-u;if(j!==h)return f.seekTo(j)}return f},bind:function(h,j){m.bind(h,j);return f},unbind:function(h){m.unbind(h);return f}});a.each("onBeforeSeek,onStart,onSeek,onReload".split(","),
function(h,j){f[j]=function(s){return f.bind(j,s)}});o.addClass(d.disabledClass).click(function(){f.prev()});r.click(function(){f.next()});p.click(function(){f.nextPage()});f.getSize()<d.size&&r.add(p).addClass(d.disabledClass);q.addClass(d.disabledClass).click(function(){f.prevPage()});var t=d.hoverClass,v="keydown."+Math.random().toString().substring(10);f.onReload(function(){t&&f.getItems().hover(function(){a(this).addClass(t)},function(){a(this).removeClass(t)});d.clickable&&f.getItems().each(function(h){a(this).unbind("click.scrollable").bind("click.scrollable",
function(j){if(!a(j.target).is("a"))return f.click(h)})});d.keyboard?a(document).unbind(v).bind(v,function(h){if(!(h.altKey||h.ctrlKey))if(!(d.keyboard!="static"&&b!=f)){var j=d.keyboardSteps;if(n&&(h.keyCode==37||h.keyCode==39)){f.move(h.keyCode==37?-j:j);return h.preventDefault()}if(!n&&(h.keyCode==38||h.keyCode==40)){f.move(h.keyCode==38?-j:j);return h.preventDefault()}return true}}):a(document).unbind(v)});f.reload()}a.fn.scrollable=function(c){var d=this.eq(typeof c=="number"?c:0).data("scrollable");
if(d)return d;var f=a.extend({},a.tools.scrollable.conf);c=a.extend(f,c);c.keyboardSteps=c.keyboardSteps||c.size;this.each(function(){d=new g(a(this),c);a(this).data("scrollable",d)});return c.api?d:this}})(jQuery);
(function(a){var b=a.tools.scrollable;b.plugins=b.plugins||{};b.plugins.autoscroll={version:"1.0.1",conf:{autoplay:true,interval:3000,autopause:true,steps:1,api:false}};a.fn.autoscroll=function(g){if(typeof g=="number")g={interval:g};var c=a.extend({},b.plugins.autoscroll.conf),d;a.extend(c,g);this.each(function(){var f=a(this).scrollable();if(f)d=f;var m,n,k=true;f.play=function(){if(!m){k=false;m=setInterval(function(){f.move(c.steps)},c.interval);f.move(c.steps)}};f.pause=function(){m=clearInterval(m)};
f.stop=function(){f.pause();k=true};c.autopause&&f.getRoot().add(f.getNaviButtons()).hover(function(){f.pause();clearInterval(n)},function(){k||(n=setTimeout(f.play,c.interval))});c.autoplay&&setTimeout(f.play,c.interval)});return c.api?d:this}})(jQuery);
(function(a){var b=a.tools.scrollable;b.plugins=b.plugins||{};b.plugins.navigator={version:"1.0.2",conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:false,api:false,idPrefix:null}};a.fn.navigator=function(g){var c=a.extend({},b.plugins.navigator.conf),d;if(typeof g=="string")g={navi:g};g=a.extend(c,g);this.each(function(){var f=a(this).scrollable(),m=f.getRoot(),n=m.data("finder").call(null,g.navi),k=null,e=f.getNaviButtons();if(f)d=f;f.getNaviButtons=function(){return e.add(n)};function i(){if(!n.children().length||
n.data("navi")==f){n.empty();n.data("navi",f);for(var l=0;l<f.getPageAmount();l++)n.append(a("<"+(g.naviItem||"a")+"/>"));k=n.children().each(function(o){var r=a(this);r.click(function(q){f.setPage(o);return q.preventDefault()});g.indexed&&r.text(o);g.idPrefix&&r.attr("id",g.idPrefix+o)})}else{k=g.naviItem?n.find(g.naviItem):n.children();k.each(function(o){var r=a(this);r.click(function(q){f.setPage(o);return q.preventDefault()})})}k.eq(0).addClass(g.activeClass)}f.onStart(function(){var l=g.activeClass;
k.removeClass(l).eq(f.getPageIndex()).addClass(l)});f.onReload(function(){i()});i();m=k.filter("[href="+location.hash+"]");m.length&&f.move(k.index(m))});return g.api?d:this}})(jQuery);
(function(a){a.fn.wheel=function(d){return this[d?"bind":"trigger"]("wheel",d)};a.event.special.wheel={setup:function(){a.event.add(this,b,g,{})},teardown:function(){a.event.remove(this,b,g)}};var b=!a.browser.mozilla?"mousewheel":"DOMMouseScroll"+(a.browser.version<"1.9"?" mousemove":"");function g(d){switch(d.type){case "mousemove":return a.extend(d.data,{clientX:d.clientX,clientY:d.clientY,pageX:d.pageX,pageY:d.pageY});case "DOMMouseScroll":a.extend(d,d.data);d.delta=-d.detail/3;break;case "mousewheel":d.delta=
d.wheelDelta/120;break}d.type="wheel";return a.event.handle.call(this,d,d.delta)}var c=a.tools.scrollable;c.plugins=c.plugins||{};c.plugins.mousewheel={version:"1.0.1",conf:{api:false,speed:50}};a.fn.mousewheel=function(d){var f=a.extend({},c.plugins.mousewheel.conf),m;if(typeof d=="number")d={speed:d};d=a.extend(f,d);this.each(function(){var n=a(this).scrollable();if(n)m=n;n.getRoot().wheel(function(k,e){n.move(e<0?1:-1,d.speed||50);return false})});return d.api?m:this}})(jQuery);(function(a){a.fn.timePicker=function(k){var e=a.extend({},a.fn.timePicker.defaults,k);return this.each(function(){a.timePicker(this,e)})};a.timePicker=function(k,e){k=a(k)[0];return k.timePicker||(k.timePicker=new jQuery._timePicker(k,e))};a._timePicker=function(k,e){var i=false,l=false,o=f(e.startTime,e),r=f(e.endTime,e);a(k).attr("autocomplete","OFF");for(var q=[],p=new Date(o);p<=r;){q[q.length]=g(p,e);p=new Date(p.setMinutes(p.getMinutes()+e.step))}var t=a("<div "+(e.tpDivId?'id="'+e.tpDivId+
'" ':"")+'class="time-picker'+(e.show24Hours?"":" time-picker-12hours")+'"></div>'),v=a("<ul></ul>");for(p=0;p<q.length;p++)v.append("<li>"+q[p]+"</li>");t.append(v);q=a(k).offset();t.appendTo("body").css({top:q.top-48+"px",left:q.left,width:a(k).width()+5+"px"}).hide();t.mouseover(function(){i=true}).mouseout(function(){i=false});a("li",v).mouseover(function(){if(!l){a("li.selected",t).removeClass("selected");a(this).addClass("selected")}}).mousedown(function(){i=true}).click(function(){b(k,this,
t,e);i=false});function h(){if(t.is(":visible"))return false;a("li",t).removeClass("selected");var j=a(k).offset();t.css({top:j.top-48+"px",left:j.left,width:a(k).width()+5+"px"});t.show();var s=k.value?m(k.value,e):o;j=o.getHours()*60+o.getMinutes();s=s.getHours()*60+s.getMinutes()-j;s=Math.round(s/e.step);j=n(new Date(0,0,0,0,s*e.step+j,0));j=o<j&&j<=r?j:o;j=a("li:contains("+g(j,e)+")",t);if(j.length){j.addClass("selected");t[0].scrollTop=j[0].offsetTop}return true}a(k).focus(h).click(h);a(k).blur(function(){i||
t.hide()});q=a.browser.opera||a.browser.mozilla?"keypress":"keydown";a(k)[q](function(j){l=true;var s=t[0].scrollTop;switch(j.keyCode){case 38:if(h())return false;j=a("li.selected",v);var u=j.prev().addClass("selected")[0];if(u){j.removeClass("selected");if(u.offsetTop<s)t[0].scrollTop=s-u.offsetHeight}else{j.removeClass("selected");u=a("li:last",v).addClass("selected")[0];t[0].scrollTop=u.offsetTop-u.offsetHeight}return false;case 40:if(h())return false;j=a("li.selected",v);if(u=j.next().addClass("selected")[0]){j.removeClass("selected");
if(u.offsetTop+u.offsetHeight>s+t[0].offsetHeight)t[0].scrollTop=s+u.offsetHeight}else{j.removeClass("selected");a("li:first",v).addClass("selected");t[0].scrollTop=0}return false;case 13:if(t.is(":visible")){s=a("li.selected",v)[0];b(k,s,t,e)}return false;case 27:t.hide();return false}return true});a(k).keyup(function(){l=false});this.getTime=function(){return m(k.value,e)};this.setTime=function(j){k.value=g(n(j),e);a(k).change()}};a.fn.timePicker.defaults={step:30,startTime:new Date(0,0,0,0,0,0),
endTime:new Date(0,0,0,23,30,0),separator:":",show24Hours:true};function b(k,e,i){k.value=a(e).text();a(k).change();a.browser.msie||k.focus();i.hide()}function g(k,e){var i=k.getHours(),l=e.show24Hours?i:(i+11)%12+1;l=d(l,e);k=k.getMinutes();return l+e.separator+c(k)+(e.show24Hours?"":i<12?" AM":" PM")}function c(k){return(k<10?"0":"")+k}function d(k,e){return e.show24Hours?(k<10?"0":"")+k:k}function f(k,e){return typeof k=="object"?n(k):m(k,e)}function m(k,e){if(k){var i=k.split(e.separator),l=parseFloat(i[0]);
i=parseFloat(i[1]);if(!e.show24Hours)if(l===12&&k.substr("AM")!==-1)l=0;else if(l!==12&&k.indexOf("PM")!==-1)l+=12;k=new Date(0,0,0,l,i,0);return n(k)}return null}function n(k){k.setFullYear(2001);k.setMonth(0);k.setDate(0);return k}})(jQuery);if(!this.JSON)this.JSON={};
(function(){function a(e){return e<10?"0"+e:e}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,g=
/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c,d,f={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;function n(e){g.lastIndex=0;return g.test(e)?'"'+e.replace(g,function(i){var l=f[i];return typeof l==="string"?l:"\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function k(e,i){var l,o,r=c,q,p=i[e];if(p&&typeof p==="object"&&typeof p.toJSON==="function")p=p.toJSON(e);
if(typeof m==="function")p=m.call(i,e,p);switch(typeof p){case "string":return n(p);case "number":return isFinite(p)?String(p):"null";case "boolean":case "null":return String(p);case "object":if(!p)return"null";c+=d;q=[];if(Object.prototype.toString.apply(p)==="[object Array]"){o=p.length;for(e=0;e<o;e+=1)q[e]=k(e,p)||"null";i=q.length===0?"[]":c?"[\n"+c+q.join(",\n"+c)+"\n"+r+"]":"["+q.join(",")+"]";c=r;return i}if(m&&typeof m==="object"){o=m.length;for(e=0;e<o;e+=1){l=m[e];if(typeof l==="string")if(i=
k(l,p))q.push(n(l)+(c?": ":":")+i)}}else for(l in p)if(Object.hasOwnProperty.call(p,l))if(i=k(l,p))q.push(n(l)+(c?": ":":")+i);i=q.length===0?"{}":c?"{\n"+c+q.join(",\n"+c)+"\n"+r+"}":"{"+q.join(",")+"}";c=r;return i}}if(typeof JSON.stringify!=="function")JSON.stringify=function(e,i,l){var o;d=c="";if(typeof l==="number")for(o=0;o<l;o+=1)d+=" ";else if(typeof l==="string")d=l;if((m=i)&&typeof i!=="function"&&(typeof i!=="object"||typeof i.length!=="number"))throw new Error("JSON.stringify");return k("",
{"":e})};if(typeof JSON.parseIt!=="function")JSON.parseIt=function(e,i){function l(o,r){var q,p,t=o[r];if(t&&typeof t==="object")for(q in t)if(Object.hasOwnProperty.call(t,q)){p=l(t,q);if(p!==undefined)t[q]=p;else delete t[q]}return i.call(o,r,t)}b.lastIndex=0;if(b.test(e))e=e.replace(b,function(o){return"\\u"+("0000"+o.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){e=eval("("+e+")");return typeof i==="function"?l({"":e},""):e}throw new SyntaxError("JSON.parseIt");}})();(function(a){a.tools=a.tools||{};a.tools.scrollable={version:"1.1.2",conf:{size:5,vertical:false,speed:400,keyboard:true,keyboardSteps:null,disabledClass:"disabled",hoverClass:null,clickable:true,activeClass:"active",easing:"swing",loop:false,items:".items",item:null,prev:".prev",next:".next",prevPage:".prevPage",nextPage:".nextPage",api:false}};var b;function g(c,d){var f=this,m=a(this),n=!d.vertical,k=c.children(),e=0,i;b||(b=f);a.each(d,function(h,j){a.isFunction(j)&&m.bind(h,j)});if(k.length>
1)k=a(d.items,c);function l(h){var j=a(h);return d.globalNav?j:c.parent().find(h)}c.data("finder",l);var o=l(d.prev),r=l(d.next),q=l(d.prevPage),p=l(d.nextPage);a.extend(f,{getIndex:function(){return e},getClickIndex:function(){var h=f.getItems();return h.index(h.filter("."+d.activeClass))},getConf:function(){return d},getSize:function(){return f.getItems().size()},getPageAmount:function(){return Math.ceil(this.getSize()/d.size)},getPageIndex:function(){return Math.ceil(e/d.size)},getNaviButtons:function(){return o.add(r).add(q).add(p)},
getRoot:function(){return c},getItemWrap:function(){return k},getItems:function(){return k.children(d.item)},getVisibleItems:function(){return f.getItems().slice(e,e+d.size)},seekTo:function(h,j,s){if(h<0)h=0;if(e===h)return f;if(a.isFunction(j))s=j;if(h>f.getSize()-d.size)return d.loop?f.begin():this.end();var u=f.getItems().eq(h);if(!u.length)return f;var w=a.Event("onBeforeSeek");m.trigger(w,h>e);if(w.isDefaultPrevented())return f;if(j===undefined||a.isFunction(j))j=d.speed;function x(){s&&s.call(f,
h);m.trigger("onSeek",[h])}n?k.animate({left:-u.position().left},j,d.easing,x):k.animate({top:-u.position().top},j,d.easing,x);b=f;e=h;w=a.Event("onStart");m.trigger(w,[h]);if(w.isDefaultPrevented())return f;o.add(q).toggleClass(d.disabledClass,h===0);r.add(p).toggleClass(d.disabledClass,h>=f.getSize()-d.size);return f},move:function(h,j,s){i=h>0;return this.seekTo(e+h,j,s)},next:function(h,j){return this.move(1,h,j)},prev:function(h,j){return this.move(-1,h,j)},movePage:function(h,j,s){i=h>0;var u=
d.size*h,w=e%d.size;if(w>0)u+=h>0?-w:d.size-w;return this.move(u,j,s)},prevPage:function(h,j){return this.movePage(-1,h,j)},nextPage:function(h,j){return this.movePage(1,h,j)},setPage:function(h,j,s){return this.seekTo(h*d.size,j,s)},begin:function(h,j){i=false;return this.seekTo(0,h,j)},end:function(h,j){i=true;var s=this.getSize()-d.size;return s>0?this.seekTo(s,h,j):f},reload:function(){m.trigger("onReload");return f},focus:function(){return b=f},click:function(h){var j=f.getItems().eq(h),s=d.activeClass,
u=d.size;if(h<0||h>=f.getSize())return f;if(u==1){if(d.loop)return f.next();if(h===0||h==f.getSize()-1)i=i===undefined?true:!i;return i===false?f.prev():f.next()}if(u==2){h==e&&h--;f.getItems().removeClass(s);j.addClass(s);return f.seekTo(h,time,fn)}if(!j.hasClass(s)){f.getItems().removeClass(s);j.addClass(s);j=Math.floor(u/2);j=h-j;if(j>f.getSize()-u)j=f.getSize()-u;if(j!==h)return f.seekTo(j)}return f},bind:function(h,j){m.bind(h,j);return f},unbind:function(h){m.unbind(h);return f}});a.each("onBeforeSeek,onStart,onSeek,onReload".split(","),
function(h,j){f[j]=function(s){return f.bind(j,s)}});o.addClass(d.disabledClass).click(function(){f.prev()});r.click(function(){f.next()});p.click(function(){f.nextPage()});f.getSize()<d.size&&r.add(p).addClass(d.disabledClass);q.addClass(d.disabledClass).click(function(){f.prevPage()});var t=d.hoverClass,v="keydown."+Math.random().toString().substring(10);f.onReload(function(){t&&f.getItems().hover(function(){a(this).addClass(t)},function(){a(this).removeClass(t)});d.clickable&&f.getItems().each(function(h){a(this).unbind("click.scrollable").bind("click.scrollable",
function(j){if(!a(j.target).is("a"))return f.click(h)})});d.keyboard?a(document).unbind(v).bind(v,function(h){if(!(h.altKey||h.ctrlKey))if(!(d.keyboard!="static"&&b!=f)){var j=d.keyboardSteps;if(n&&(h.keyCode==37||h.keyCode==39)){f.move(h.keyCode==37?-j:j);return h.preventDefault()}if(!n&&(h.keyCode==38||h.keyCode==40)){f.move(h.keyCode==38?-j:j);return h.preventDefault()}return true}}):a(document).unbind(v)});f.reload()}a.fn.scrollable=function(c){var d=this.eq(typeof c=="number"?c:0).data("scrollable");
if(d)return d;var f=a.extend({},a.tools.scrollable.conf);c=a.extend(f,c);c.keyboardSteps=c.keyboardSteps||c.size;this.each(function(){d=new g(a(this),c);a(this).data("scrollable",d)});return c.api?d:this}})(jQuery);(function(a){a.fn.wheel=function(d){return this[d?"bind":"trigger"]("wheel",d)};a.event.special.wheel={setup:function(){a.event.add(this,b,g,{})},teardown:function(){a.event.remove(this,b,g)}};var b=!a.browser.mozilla?"mousewheel":"DOMMouseScroll"+(a.browser.version<"1.9"?" mousemove":"");function g(d){switch(d.type){case "mousemove":return a.extend(d.data,{clientX:d.clientX,clientY:d.clientY,pageX:d.pageX,pageY:d.pageY});case "DOMMouseScroll":a.extend(d,d.data);d.delta=-d.detail/3;break;case "mousewheel":d.delta=
d.wheelDelta/120;break}d.type="wheel";return a.event.handle.call(this,d,d.delta)}var c=a.tools.scrollable;c.plugins=c.plugins||{};c.plugins.mousewheel={version:"1.0.1",conf:{api:false,speed:50}};a.fn.mousewheel=function(d){var f=a.extend({},c.plugins.mousewheel.conf),m;if(typeof d=="number")d={speed:d};d=a.extend(f,d);this.each(function(){var n=a(this).scrollable();if(n)m=n;n.getRoot().wheel(function(k,e){n.move(e<0?1:-1,d.speed||50);return false})});return d.api?m:this}})(jQuery);jQuery.ui||function(a){var b=a.fn.remove,g=a.browser.mozilla&&parseFloat(a.browser.version)<1.9;a.ui={version:"1.7.2",plugin:{add:function(e,i,l){e=a.ui[e].prototype;for(var o in l){e.plugins[o]=e.plugins[o]||[];e.plugins[o].push([i,l[o]])}},call:function(e,i,l){if((i=e.plugins[i])&&e.element[0].parentNode)for(var o=0;o<i.length;o++)e.options[i[o][0]]&&i[o][1].apply(e.element,l)}},contains:function(e,i){return document.compareDocumentPosition?e.compareDocumentPosition(i)&16:e!==i&&e.contains(i)},
hasScroll:function(e,i){if(a(e).css("overflow")=="hidden")return false;i=i&&i=="left"?"scrollLeft":"scrollTop";var l=false;if(e[i]>0)return true;e[i]=1;l=e[i]>0;e[i]=0;return l},isOverAxis:function(e,i,l){return e>i&&e<i+l},isOver:function(e,i,l,o,r,q){return a.ui.isOverAxis(e,l,r)&&a.ui.isOverAxis(i,o,q)},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,
NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(g){var c=a.attr,d=a.fn.removeAttr,f="http://www.w3.org/2005/07/aaa",m=/^aria-/,n=/^wairole:/;a.attr=function(e,i,l){var o=l!==undefined;return i=="role"?o?c.call(this,e,i,"wairole:"+l):(c.apply(this,arguments)||"").replace(n,""):m.test(i)?o?e.setAttributeNS(f,i.replace(m,"aaa:"),l):c.call(this,e,i.replace(m,"aaa:")):c.apply(this,arguments)};a.fn.removeAttr=function(e){return m.test(e)?
this.each(function(){this.removeAttributeNS(f,e.replace(m,""))}):d.call(this,e)}}a.fn.extend({remove:function(){a("*",this).add(this).each(function(){a(this).triggerHandler("remove")});return b.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var e;
e=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||
!e.length?a(document):e}});a.extend(a.expr[":"],{data:function(e,i,l){return!!a.data(e,l[3])},focusable:function(e){var i=e.nodeName.toLowerCase(),l=a.attr(e,"tabindex");return(/input|select|textarea|button|object/.test(i)?!e.disabled:"a"==i||"area"==i?e.href||!isNaN(l):!isNaN(l))&&!a(e)["area"==i?"parents":"closest"](":hidden").length},tabbable:function(e){var i=a.attr(e,"tabindex");return(isNaN(i)||i>=0)&&a(e).is(":focusable")}});function k(e,i,l,o){function r(p){p=a[e][i][p]||[];return typeof p==
"string"?p.split(/,?\s+/):p}var q=r("getter");if(o.length==1&&typeof o[0]=="string")q=q.concat(r("getterSetter"));return a.inArray(l,q)!=-1}a.widget=function(e,i){var l=e.split(".")[0];e=e.split(".")[1];a.fn[e]=function(o){var r=typeof o=="string",q=Array.prototype.slice.call(arguments,1);if(r&&o.substring(0,1)=="_")return this;if(r&&k(l,e,o,q)){var p=a.data(this[0],e);return p?p[o].apply(p,q):undefined}return this.each(function(){var t=a.data(this,e);!t&&!r&&a.data(this,e,new a[l][e](this,o))._init();
t&&r&&a.isFunction(t[o])&&t[o].apply(t,q)})};a[l]=a[l]||{};a[l][e]=function(o,r){var q=this;this.namespace=l;this.widgetName=e;this.widgetEventPrefix=a[l][e].eventPrefix||e;this.widgetBaseClass=l+"-"+e;this.options=a.extend({},a.widget.defaults,a[l][e].defaults,a.metadata&&a.metadata.get(o)[e],r);this.element=a(o).bind("setData."+e,function(p,t,v){if(p.target==o)return q._setData(t,v)}).bind("getData."+e,function(p,t){if(p.target==o)return q._getData(t)}).bind("remove",function(){return q.destroy()})};
a[l][e].prototype=a.extend({},a.widget.prototype,i);a[l][e].getterSetter="option"};a.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled")},option:function(e,i){var l=e,o=this;if(typeof e=="string"){if(i===undefined)return this._getData(e);l={};l[e]=i}a.each(l,function(r,q){o._setData(r,q)})},_getData:function(e){return this.options[e]},_setData:function(e,
i){this.options[e]=i;if(e=="disabled")this.element[i?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",i)},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(e,i,l){var o=this.options[e];e=e==this.widgetEventPrefix?e:this.widgetEventPrefix+e;i=a.Event(i);i.type=e;if(i.originalEvent){e=a.event.props.length;for(var r;e;){r=a.event.props[--e];i[r]=i.originalEvent[r]}}this.element.trigger(i,
l);return!(a.isFunction(o)&&o.call(this.element[0],i,l)===false||i.isDefaultPrevented())}};a.widget.defaults={disabled:false};a.ui.mouse={_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(i){return e._mouseDown(i)}).bind("click."+this.widgetName,function(i){if(e._preventClickEvent){e._preventClickEvent=false;i.stopImmediatePropagation();return false}});if(a.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable",
"on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);a.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable)},_mouseDown:function(e){e.originalEvent=e.originalEvent||{};if(!e.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(e);this._mouseDownEvent=e;var i=this,l=e.which==1,o=typeof this.options.cancel=="string"?a(e.target).parents().add(e.target).filter(this.options.cancel).length:false;if(!l||o||!this._mouseCapture(e))return true;
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)){this._mouseStarted=this._mouseStart(e)!==false;if(!this._mouseStarted){e.preventDefault();return true}}this._mouseMoveDelegate=function(r){return i._mouseMove(r)};this._mouseUpDelegate=function(r){return i._mouseUp(r)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+
this.widgetName,this._mouseUpDelegate);a.browser.safari||e.preventDefault();return e.originalEvent.mouseHandled=true}},_mouseMove:function(e){if(a.browser.msie&&!e.button)return this._mouseUp(e);if(this._mouseStarted){this._mouseDrag(e);return e.preventDefault()}if(this._mouseDistanceMet(e)&&this._mouseDelayMet(e))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==false)?this._mouseDrag(e):this._mouseUp(e);return!this._mouseStarted},_mouseUp:function(e){a(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=e.target==this._mouseDownEvent.target;this._mouseStop(e)}return false},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},
_mouseStop:function(){},_mouseCapture:function(){return true}};a.ui.mouse.defaults={cancel:null,distance:1,delay:0}}(jQuery);(function(a){a.widget("ui.draggable",a.extend({},a.ui.mouse,{_init:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");
this._mouseDestroy()}},_mouseCapture:function(b){var g=this.options;if(this.helper||g.disabled||a(b.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(b);if(!this.handle)return false;return true},_mouseStart:function(b){var g=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();if(a.ui.ddmanager)a.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.element.offset();
this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt);g.containment&&this._setContainment();this._trigger("start",b);this._cacheHelperProportions();a.ui.ddmanager&&
!g.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(b,true);return true},_mouseDrag:function(b,g){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!g){g=this._uiHash();this._trigger("drag",b,g);this.position=g.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+
"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return false},_mouseStop:function(b){var g=false;if(a.ui.ddmanager&&!this.options.dropBehaviour)g=a.ui.ddmanager.drop(this,b);if(this.dropped){g=this.dropped;this.dropped=false}if(this.options.revert=="invalid"&&!g||this.options.revert=="valid"&&g||this.options.revert===true||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,g)){var c=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",
b);c._clear()})}else{this._trigger("stop",b);this._clear()}return false},_getHandle:function(b){var g=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==b.target)g=true});return g},_createHelper:function(b){var g=this.options;b=a.isFunction(g.helper)?a(g.helper.apply(this.element[0],[b])):g.helper=="clone"?this.element.clone():this.element;b.parents("body").length||b.appendTo(g.appendTo=="parent"?
this.element[0].parentNode:g.appendTo);b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute");return b},_adjustOffsetFromHelper:function(b){if(b.left!=undefined)this.offset.click.left=b.left+this.margins.left;if(b.right!=undefined)this.offset.click.left=this.helperProportions.width-b.right+this.margins.left;if(b.top!=undefined)this.offset.click.top=b.top+this.margins.top;if(b.bottom!=undefined)this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top},
_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),
10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if(b.containment=="parent")b.containment=this.helper[0].parentNode;if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-
this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)jQuery/.test(b.containment)&&b.containment.constructor!=Array){var g=a(b.containment)[0];if(g){b=a(b.containment).offset();var c=a(g).css("overflow")!="hidden";this.containment=[b.left+(parseInt(a(g).css("borderLeftWidth"),10)||0)+(parseInt(a(g).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(g).css("borderTopWidth"),
10)||0)+(parseInt(a(g).css("paddingTop"),10)||0)-this.margins.top,b.left+(c?Math.max(g.scrollWidth,g.offsetWidth):g.offsetWidth)-(parseInt(a(g).css("borderLeftWidth"),10)||0)-(parseInt(a(g).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(c?Math.max(g.scrollHeight,g.offsetHeight):g.offsetHeight)-(parseInt(a(g).css("borderTopWidth"),10)||0)-(parseInt(a(g).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(b.containment.constructor==
Array)this.containment=b.containment},_convertPositionTo:function(b,g){if(!g)g=this.position;b=b=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,d=/(html|body)/i.test(c[0].tagName);return{top:g.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():d?0:c.scrollTop())*
b),left:g.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():d?0:c.scrollLeft())*b)}},_generatePosition:function(b){var g=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,d=/(html|body)/i.test(c[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=
document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var f=b.pageX,m=b.pageY;if(this.originalPosition){if(this.containment){if(b.pageX-this.offset.click.left<this.containment[0])f=this.containment[0]+this.offset.click.left;if(b.pageY-this.offset.click.top<this.containment[1])m=this.containment[1]+this.offset.click.top;if(b.pageX-this.offset.click.left>this.containment[2])f=this.containment[2]+this.offset.click.left;if(b.pageY-this.offset.click.top>this.containment[3])m=
this.containment[3]+this.offset.click.top}if(g.grid){m=this.originalPageY+Math.round((m-this.originalPageY)/g.grid[1])*g.grid[1];m=this.containment?!(m-this.offset.click.top<this.containment[1]||m-this.offset.click.top>this.containment[3])?m:!(m-this.offset.click.top<this.containment[1])?m-g.grid[1]:m+g.grid[1]:m;f=this.originalPageX+Math.round((f-this.originalPageX)/g.grid[0])*g.grid[0];f=this.containment?!(f-this.offset.click.left<this.containment[0]||f-this.offset.click.left>this.containment[2])?
f:!(f-this.offset.click.left<this.containment[0])?f-g.grid[0]:f+g.grid[0]:f}}return{top:m-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():d?0:c.scrollTop()),left:f-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():d?0:c.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");
this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(b,g,c){c=c||this._uiHash();a.ui.plugin.call(this,b,[g,c]);if(b=="drag")this.positionAbs=this._convertPositionTo("absolute");return a.widget.prototype._trigger.call(this,b,g,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,offset:this.positionAbs}}}));a.extend(a.ui.draggable,{version:"1.7.2",
eventPrefix:"drag",defaults:{addClasses:true,appendTo:"parent",axis:false,cancel:":input,option",connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false}});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,
g){var c=a(this).data("draggable"),d=c.options,f=a.extend({},g,{item:c.element});c.sortables=[];a(d.connectToSortable).each(function(){var m=a.data(this,"sortable");if(m&&!m.options.disabled){c.sortables.push({instance:m,shouldRevert:m.options.revert});m._refreshItems();m._trigger("activate",b,f)}})},stop:function(b,g){var c=a(this).data("draggable"),d=a.extend({},g,{item:c.element});a.each(c.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;c.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=
false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(b);this.instance.options.helper=this.instance.options._helper;c.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",b,d)}})},drag:function(b,g){var c=a(this).data("draggable"),d=this;a.each(c.sortables,function(){this.instance.positionAbs=c.positionAbs;this.instance.helperProportions=c.helperProportions;
this.instance.offset.click=c.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(d).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return g.helper[0]};b.target=this.instance.currentItem[0];this.instance._mouseCapture(b,true);this.instance._mouseStart(b,true,true);this.instance.offset.click.top=
c.offset.click.top;this.instance.offset.click.left=c.offset.click.left;this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top;c._trigger("toSortable",b);c.dropped=this.instance.element;c.currentItem=c.element;this.instance.fromOutside=c}this.instance.currentItem&&this.instance._mouseDrag(b)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;
this.instance.options.revert=false;this.instance._trigger("out",b,this.instance._uiHash(this.instance));this.instance._mouseStop(b,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();c._trigger("fromSortable",b);c.dropped=false}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),g=a(this).data("draggable").options;if(b.css("cursor"))g._cursor=b.css("cursor");b.css("cursor",
g.cursor)},stop:function(){if(a(this).data("draggable")){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}});a.ui.plugin.add("draggable","iframeFix",{start:function(){var b=a(this).data("draggable").options;a(b.iframeFix===true?"iframe":b.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")})},
stop:function(){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(b,g){b=a(g.helper);g=a(this).data("draggable").options;if(b.css("opacity"))g._opacity=b.css("opacity");b.css("opacity",g.opacity)},stop:function(b,g){b=a(this).data("draggable").options;b._opacity&&a(g.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");if(b.scrollParent[0]!=
document&&b.scrollParent[0].tagName!="HTML")b.overflowOffset=b.scrollParent.offset()},drag:function(b){var g=a(this).data("draggable"),c=g.options,d=false;if(g.scrollParent[0]!=document&&g.scrollParent[0].tagName!="HTML"){if(!c.axis||c.axis!="x")if(g.overflowOffset.top+g.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity)g.scrollParent[0].scrollTop=d=g.scrollParent[0].scrollTop+c.scrollSpeed;else if(b.pageY-g.overflowOffset.top<c.scrollSensitivity)g.scrollParent[0].scrollTop=d=g.scrollParent[0].scrollTop-
c.scrollSpeed;if(!c.axis||c.axis!="y")if(g.overflowOffset.left+g.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity)g.scrollParent[0].scrollLeft=d=g.scrollParent[0].scrollLeft+c.scrollSpeed;else if(b.pageX-g.overflowOffset.left<c.scrollSensitivity)g.scrollParent[0].scrollLeft=d=g.scrollParent[0].scrollLeft-c.scrollSpeed}else{if(!c.axis||c.axis!="x")if(b.pageY-a(document).scrollTop()<c.scrollSensitivity)d=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed);else if(a(window).height()-
(b.pageY-a(document).scrollTop())<c.scrollSensitivity)d=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed);if(!c.axis||c.axis!="y")if(b.pageX-a(document).scrollLeft()<c.scrollSensitivity)d=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed);else if(a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity)d=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed)}d!==false&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(g,b)}});a.ui.plugin.add("draggable",
"snap",{start:function(){var b=a(this).data("draggable"),g=b.options;b.snapElements=[];a(g.snap.constructor!=String?g.snap.items||":data(draggable)":g.snap).each(function(){var c=a(this),d=c.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,g){for(var c=a(this).data("draggable"),d=c.options,f=d.snapTolerance,m=g.offset.left,n=m+c.helperProportions.width,k=g.offset.top,e=k+c.helperProportions.height,i=
c.snapElements.length-1;i>=0;i--){var l=c.snapElements[i].left,o=l+c.snapElements[i].width,r=c.snapElements[i].top,q=r+c.snapElements[i].height;if(l-f<m&&m<o+f&&r-f<k&&k<q+f||l-f<m&&m<o+f&&r-f<e&&e<q+f||l-f<n&&n<o+f&&r-f<k&&k<q+f||l-f<n&&n<o+f&&r-f<e&&e<q+f){if(d.snapMode!="inner"){var p=Math.abs(r-e)<=f,t=Math.abs(q-k)<=f,v=Math.abs(l-n)<=f,h=Math.abs(o-m)<=f;if(p)g.position.top=c._convertPositionTo("relative",{top:r-c.helperProportions.height,left:0}).top-c.margins.top;if(t)g.position.top=c._convertPositionTo("relative",
{top:q,left:0}).top-c.margins.top;if(v)g.position.left=c._convertPositionTo("relative",{top:0,left:l-c.helperProportions.width}).left-c.margins.left;if(h)g.position.left=c._convertPositionTo("relative",{top:0,left:o}).left-c.margins.left}var j=p||t||v||h;if(d.snapMode!="outer"){p=Math.abs(r-k)<=f;t=Math.abs(q-e)<=f;v=Math.abs(l-m)<=f;h=Math.abs(o-n)<=f;if(p)g.position.top=c._convertPositionTo("relative",{top:r,left:0}).top-c.margins.top;if(t)g.position.top=c._convertPositionTo("relative",{top:q-c.helperProportions.height,
left:0}).top-c.margins.top;if(v)g.position.left=c._convertPositionTo("relative",{top:0,left:l}).left-c.margins.left;if(h)g.position.left=c._convertPositionTo("relative",{top:0,left:o-c.helperProportions.width}).left-c.margins.left}if(!c.snapElements[i].snapping&&(p||t||v||h||j))c.options.snap.snap&&c.options.snap.snap.call(c.element,b,a.extend(c._uiHash(),{snapItem:c.snapElements[i].item}));c.snapElements[i].snapping=p||t||v||h||j}else{c.snapElements[i].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,
b,a.extend(c._uiHash(),{snapItem:c.snapElements[i].item}));c.snapElements[i].snapping=false}}}});a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options,g=a.makeArray(a(b.stack.group)).sort(function(c,d){return(parseInt(a(c).css("zIndex"),10)||b.stack.min)-(parseInt(a(d).css("zIndex"),10)||b.stack.min)});a(g).each(function(c){this.style.zIndex=b.stack.min+c});this[0].style.zIndex=b.stack.min+g.length}});a.ui.plugin.add("draggable","zIndex",{start:function(b,g){b=
a(g.helper);g=a(this).data("draggable").options;if(b.css("zIndex"))g._zIndex=b.css("zIndex");b.css("zIndex",g.zIndex)},stop:function(b,g){b=a(this).data("draggable").options;b._zIndex&&a(g.helper).css("zIndex",b._zIndex)}})})(jQuery);(function(a){a.widget("ui.droppable",{_init:function(){var b=this.options,g=b.accept;this.isover=0;this.isout=1;this.options.accept=this.options.accept&&a.isFunction(this.options.accept)?this.options.accept:function(c){return c.is(g)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[this.options.scope]=a.ui.ddmanager.droppables[this.options.scope]||[];a.ui.ddmanager.droppables[this.options.scope].push(this);this.options.addClasses&&
this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],g=0;g<b.length;g++)b[g]==this&&b.splice(g,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable")},_setData:function(b,g){if(b=="accept")this.options.accept=g&&a.isFunction(g)?g:function(c){return c.is(g)};else a.widget.prototype._setData.apply(this,arguments)},_activate:function(b){var g=a.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);g&&this._trigger("activate",b,this.ui(g))},_deactivate:function(b){var g=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);g&&this._trigger("deactivate",b,this.ui(g))},_over:function(b){var g=a.ui.ddmanager.current;if(!(!g||(g.currentItem||g.element)[0]==this.element[0]))if(this.options.accept.call(this.element[0],g.currentItem||g.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over",b,this.ui(g))}},_out:function(b){var g=a.ui.ddmanager.current;if(!(!g||(g.currentItem||g.element)[0]==this.element[0]))if(this.options.accept.call(this.element[0],g.currentItem||g.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",b,this.ui(g))}},_drop:function(b,g){var c=g||a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return false;var d=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var f=
a.data(this,"droppable");if(f.options.greedy&&a.ui.intersect(c,a.extend(f,{offset:f.element.offset()}),f.options.tolerance)){d=true;return false}});if(d)return false;if(this.options.accept.call(this.element[0],c.currentItem||c.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",b,this.ui(c));return this.element}return false},ui:function(b){return{draggable:b.currentItem||
b.element,helper:b.helper,position:b.position,absolutePosition:b.positionAbs,offset:b.positionAbs}}});a.extend(a.ui.droppable,{version:"1.7.2",eventPrefix:"drop",defaults:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"}});a.ui.intersect=function(b,g,c){if(!g.offset)return false;var d=(b.positionAbs||b.position.absolute).left,f=d+b.helperProportions.width,m=(b.positionAbs||b.position.absolute).top,n=m+b.helperProportions.height,k=g.offset.left,
e=k+g.proportions.width,i=g.offset.top,l=i+g.proportions.height;switch(c){case "fit":return k<d&&f<e&&i<m&&n<l;case "intersect":return k<d+b.helperProportions.width/2&&f-b.helperProportions.width/2<e&&i<m+b.helperProportions.height/2&&n-b.helperProportions.height/2<l;case "pointer":c=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left;b=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top;return g=a.ui.isOver(b,c,i,k,g.proportions.height,g.proportions.width);
case "touch":return(m>=i&&m<=l||n>=i&&n<=l||m<i&&n>l)&&(d>=k&&d<=e||f>=k&&f<=e||d<k&&f>e);default:return false}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,g){var c=a.ui.ddmanager.droppables[b.options.scope],d=g?g.type:null,f=(b.currentItem||b.element).find(":data(droppable)").andSelf(),m=0;a:for(;m<c.length;m++)if(!(c[m].options.disabled||b&&!c[m].options.accept.call(c[m].element[0],b.currentItem||b.element))){for(var n=0;n<f.length;n++)if(f[n]==c[m].element[0]){c[m].proportions.height=
0;continue a}c[m].visible=c[m].element.css("display")!="none";if(c[m].visible){c[m].offset=c[m].element.offset();c[m].proportions={width:c[m].element[0].offsetWidth,height:c[m].element[0].offsetHeight};d=="mousedown"&&c[m]._activate.call(c[m],g)}}},drop:function(b,g){var c=false;a.each(a.ui.ddmanager.droppables[b.options.scope],function(){if(this.options){if(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance))c=this._drop.call(this,g);if(!this.options.disabled&&this.visible&&
this.options.accept.call(this.element[0],b.currentItem||b.element)){this.isout=1;this.isover=0;this._deactivate.call(this,g)}}});return c},drag:function(b,g){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,g);a.each(a.ui.ddmanager.droppables[b.options.scope],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var c=a.ui.intersect(b,this,this.options.tolerance);if(c=!c&&this.isover==1?"isout":c&&this.isover==0?"isover":null){var d;if(this.options.greedy){var f=this.element.parents(":data(droppable):eq(0)");
if(f.length){d=a.data(f[0],"droppable");d.greedyChild=c=="isover"?1:0}}if(d&&c=="isover"){d.isover=0;d.isout=1;d._out.call(d,g)}this[c]=1;this[c=="isout"?"isover":"isout"]=0;this[c=="isover"?"_over":"_out"].call(this,g);if(d&&c=="isout"){d.isout=0;d.isover=1;d._over.call(d,g)}}}})}}})(jQuery);/*
: Licensed under The MIT License. See license.txt and http://www.datejs.com/license/. 
*/
(function(){var a=Date,b=a.prototype,g=[];function c(d,f){f||(f=2);return("000"+d).slice(f*-1)}a.normalizeFormat=function(d){g=[];(new Date).$format(d);return g.join("")};a.strftime=function(d,f){return(new Date(f*1000)).$format(d)};a.strtotime=function(d){d=a.parse(d);d.addMinutes(d.getTimezoneOffset()*-1);return Math.round(a.UTC(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate(),d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds())/1000)};b.$format=function(d){var f=this,m;
function n(k){g.push(k);return f.toString(k)}return d?d.replace(/(%|\\)?.|%%/g,function(k){if(k.charAt(0)==="\\"||k.substring(0,2)==="%%")return k.replace("\\","").replace("%%","%");switch(k){case "d":case "%d":return n("dd");case "D":case "%a":return n("ddd");case "j":case "%e":return n("d");case "l":case "%A":return n("dddd");case "N":case "%u":return f.getDay()+1;case "S":return n("S");case "w":case "%w":return f.getDay();case "z":return f.getOrdinalNumber();case "%j":return c(f.getOrdinalNumber(),
3);case "%U":k=f.clone().set({month:0,day:1}).addDays(-1).moveToDayOfWeek(0);var e=f.clone().addDays(1).moveToDayOfWeek(0,-1);return e<k?"00":c((e.getOrdinalNumber()-k.getOrdinalNumber())/7+1);case "W":case "%V":return f.getISOWeek();case "%W":return c(f.getWeek());case "F":case "%B":return n("MMMM");case "m":case "%m":return n("MM");case "M":case "%b":case "%h":return n("MMM");case "n":return n("M");case "t":return a.getDaysInMonth(f.getFullYear(),f.getMonth());case "L":return a.isLeapYear(f.getFullYear())?
1:0;case "o":case "%G":return f.setWeek(f.getISOWeek()).toString("yyyy");case "%g":return f.$format("%G").slice(-2);case "Y":case "%Y":return n("yyyy");case "y":case "%y":return n("yy");case "a":case "%p":return n("tt").toLowerCase();case "A":return n("tt").toUpperCase();case "g":case "%I":return n("h");case "G":return n("H");case "h":return n("hh");case "H":case "%H":return n("HH");case "i":case "%M":return n("mm");case "s":case "%S":return n("ss");case "u":return c(f.getMilliseconds(),3);case "I":return f.isDaylightSavingTime()?
1:0;case "O":return f.getUTCOffset();case "P":m=f.getUTCOffset();return m.substring(0,m.length-2)+":"+m.substring(m.length-2);case "e":case "T":case "%z":case "%Z":return f.getTimezone();case "Z":return f.getTimezoneOffset()*-60;case "B":k=new Date;return Math.floor((k.getHours()*3600+k.getMinutes()*60+k.getSeconds()+(k.getTimezoneOffset()+60)*60)/86.4);case "c":return f.toISOString().replace(/\"/g,"");case "U":return a.strtotime("now");case "%c":return n("d")+" "+n("t");case "%C":return Math.floor(f.getFullYear()/
100+1);case "%D":return n("MM/dd/yy");case "%n":return"\\n";case "%t":return"\\t";case "%r":return n("hh:mm tt");case "%R":return n("H:mm");case "%T":return n("H:mm:ss");case "%x":return n("d");case "%X":return n("t");default:g.push(k);return k}}):this._toString()};if(!b.format)b.format=b.$format})();

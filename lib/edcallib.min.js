var humanMsg={setup:function(a,b){humanMsg.msgID="humanMsg";humanMsg.logID="humanMsgLog";if(a==undefined)a="body";humanMsg.msgOpacity=0.8;if(b!=undefined)humanMsg.msgOpacity=parseFloat(b);jQuery(a).append('<div id="'+humanMsg.msgID+'" class="humanMsg"><div class="round"></div><p></p><div class="round"></div></div>');jQuery("#"+humanMsg.logID+" p").click(function(){jQuery(this).siblings("ul").slideToggle()})},displayMsg:function(a){if(a!=""){clearTimeout(humanMsg.t2);jQuery("#"+humanMsg.msgID+" p").html(a);
jQuery("#"+humanMsg.msgID+"").show().animate({opacity:humanMsg.msgOpacity},200,function(){jQuery("#"+humanMsg.logID).show().children("ul").prepend("<li>"+a+"</li>").children("li:first").slideDown(200);jQuery("#"+humanMsg.logID+" ul").css("display")=="none"&&jQuery("#"+humanMsg.logID+" p").animate({bottom:40},200,"linear",function(){jQuery(this).animate({bottom:0},300,"easeOutBounce",function(){jQuery(this).css({bottom:0})})})});humanMsg.t1=setTimeout("humanMsg.bindEvents()",700);humanMsg.t2=setTimeout("humanMsg.removeMsg()",
5000)}},bindEvents:function(){jQuery(window).mousemove(humanMsg.removeMsg).click(humanMsg.removeMsg).keypress(humanMsg.removeMsg)},removeMsg:function(){jQuery(window).unbind("mousemove",humanMsg.removeMsg).unbind("click",humanMsg.removeMsg).unbind("keypress",humanMsg.removeMsg);jQuery("#"+humanMsg.msgID).css("opacity")==humanMsg.msgOpacity&&jQuery("#"+humanMsg.msgID).animate({opacity:0},500,function(){jQuery(this).hide()})}};jQuery(document).ready(function(){humanMsg.setup()});(function(a){a.fn.bgIframe=a.fn.bgiframe=function(b){if(a.browser.msie&&parseInt(a.browser.version)<=6){b=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},b||{});var e=function(f){return f&&f.constructor==Number?f+"px":f},c='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+b.src+'"style="display:block;position:absolute;z-index:-1;'+(b.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(b.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":
e(b.top))+";left:"+(b.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":e(b.left))+";width:"+(b.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":e(b.width))+";height:"+(b.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":e(b.height))+';"/>';return this.each(function(){a("> iframe.bgiframe",this).length==0&&this.insertBefore(document.createElement(c),this.firstChild)})}return this};if(!a.browser.version)a.browser.version=navigator.userAgent.toLowerCase().match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)[1]})(jQuery);(function(a){a.each({focus:"focusin",blur:"focusout"},function(b,e){a.event.special[e]={setup:function(){if(a.browser.msie)return false;this.addEventListener(b,a.event.special[e].handler,true)},teardown:function(){if(a.browser.msie)return false;this.removeEventListener(b,a.event.special[e].handler,true)},handler:function(c){arguments[0]=a.event.fix(c);arguments[0].type=e;return a.event.handle.apply(this,arguments)}}});a.extend(a.fn,{delegate:function(b,e,c){return this.bind(b,function(f){var g=a(f.target);
if(g.is(e))return c.apply(g,arguments)})},triggerEvent:function(b,e){return this.triggerHandler(b,[a.event.fix({type:b,target:e})])}})})(jQuery);(function(a){a.tools=a.tools||{};a.tools.scrollable={version:"1.1.2",conf:{size:5,vertical:false,speed:400,keyboard:true,keyboardSteps:null,disabledClass:"disabled",hoverClass:null,clickable:true,activeClass:"active",easing:"swing",loop:false,items:".items",item:null,prev:".prev",next:".next",prevPage:".prevPage",nextPage:".nextPage",api:false}};var b;function e(c,f){var g=this,m=a(this),q=!f.vertical,l=c.children(),d=0,i;b||(b=g);a.each(f,function(h,j){a.isFunction(j)&&m.bind(h,j)});if(l.length>
1)l=a(f.items,c);function k(h){var j=a(h);return f.globalNav?j:c.parent().find(h)}c.data("finder",k);var n=k(f.prev),r=k(f.next),p=k(f.prevPage),o=k(f.nextPage);a.extend(g,{getIndex:function(){return d},getClickIndex:function(){var h=g.getItems();return h.index(h.filter("."+f.activeClass))},getConf:function(){return f},getSize:function(){return g.getItems().size()},getPageAmount:function(){return Math.ceil(this.getSize()/f.size)},getPageIndex:function(){return Math.ceil(d/f.size)},getNaviButtons:function(){return n.add(r).add(p).add(o)},
getRoot:function(){return c},getItemWrap:function(){return l},getItems:function(){return l.children(f.item)},getVisibleItems:function(){return g.getItems().slice(d,d+f.size)},seekTo:function(h,j,s){if(h<0)h=0;if(d===h)return g;if(a.isFunction(j))s=j;if(h>g.getSize()-f.size)return f.loop?g.begin():this.end();var u=g.getItems().eq(h);if(!u.length)return g;var w=a.Event("onBeforeSeek");m.trigger(w,[h]);if(w.isDefaultPrevented())return g;if(j===undefined||a.isFunction(j))j=f.speed;function x(){s&&s.call(g,
h);m.trigger("onSeek",[h])}q?l.animate({left:-u.position().left},j,f.easing,x):l.animate({top:-u.position().top},j,f.easing,x);b=g;d=h;w=a.Event("onStart");m.trigger(w,[h]);if(w.isDefaultPrevented())return g;n.add(p).toggleClass(f.disabledClass,h===0);r.add(o).toggleClass(f.disabledClass,h>=g.getSize()-f.size);return g},move:function(h,j,s){i=h>0;return this.seekTo(d+h,j,s)},next:function(h,j){return this.move(1,h,j)},prev:function(h,j){return this.move(-1,h,j)},movePage:function(h,j,s){i=h>0;var u=
f.size*h,w=d%f.size;if(w>0)u+=h>0?-w:f.size-w;return this.move(u,j,s)},prevPage:function(h,j){return this.movePage(-1,h,j)},nextPage:function(h,j){return this.movePage(1,h,j)},setPage:function(h,j,s){return this.seekTo(h*f.size,j,s)},begin:function(h,j){i=false;return this.seekTo(0,h,j)},end:function(h,j){i=true;var s=this.getSize()-f.size;return s>0?this.seekTo(s,h,j):g},reload:function(){m.trigger("onReload");return g},focus:function(){return b=g},click:function(h){var j=g.getItems().eq(h),s=f.activeClass,
u=f.size;if(h<0||h>=g.getSize())return g;if(u==1){if(f.loop)return g.next();if(h===0||h==g.getSize()-1)i=i===undefined?true:!i;return i===false?g.prev():g.next()}if(u==2){h==d&&h--;g.getItems().removeClass(s);j.addClass(s);return g.seekTo(h,time,fn)}if(!j.hasClass(s)){g.getItems().removeClass(s);j.addClass(s);j=Math.floor(u/2);j=h-j;if(j>g.getSize()-u)j=g.getSize()-u;if(j!==h)return g.seekTo(j)}return g},bind:function(h,j){m.bind(h,j);return g},unbind:function(h){m.unbind(h);return g}});a.each("onBeforeSeek,onStart,onSeek,onReload".split(","),
function(h,j){g[j]=function(s){return g.bind(j,s)}});n.addClass(f.disabledClass).click(function(){g.prev()});r.click(function(){g.next()});o.click(function(){g.nextPage()});g.getSize()<f.size&&r.add(o).addClass(f.disabledClass);p.addClass(f.disabledClass).click(function(){g.prevPage()});var t=f.hoverClass,v="keydown."+Math.random().toString().substring(10);g.onReload(function(){t&&g.getItems().hover(function(){a(this).addClass(t)},function(){a(this).removeClass(t)});f.clickable&&g.getItems().each(function(h){a(this).unbind("click.scrollable").bind("click.scrollable",
function(j){if(!a(j.target).is("a"))return g.click(h)})});f.keyboard?a(document).unbind(v).bind(v,function(h){if(!(h.altKey||h.ctrlKey))if(!(f.keyboard!="static"&&b!=g)){var j=f.keyboardSteps;if(q&&(h.keyCode==37||h.keyCode==39)){g.move(h.keyCode==37?-j:j);return h.preventDefault()}if(!q&&(h.keyCode==38||h.keyCode==40)){g.move(h.keyCode==38?-j:j);return h.preventDefault()}return true}}):a(document).unbind(v)});g.reload()}a.fn.scrollable=function(c){var f=this.eq(typeof c=="number"?c:0).data("scrollable");
if(f)return f;var g=a.extend({},a.tools.scrollable.conf);c=a.extend(g,c);c.keyboardSteps=c.keyboardSteps||c.size;this.each(function(){f=new e(a(this),c);a(this).data("scrollable",f)});return c.api?f:this}})(jQuery);
(function(a){var b=a.tools.scrollable;b.plugins=b.plugins||{};b.plugins.autoscroll={version:"1.0.1",conf:{autoplay:true,interval:3000,autopause:true,steps:1,api:false}};a.fn.autoscroll=function(e){if(typeof e=="number")e={interval:e};var c=a.extend({},b.plugins.autoscroll.conf),f;a.extend(c,e);this.each(function(){var g=a(this).scrollable();if(g)f=g;var m,q,l=true;g.play=function(){if(!m){l=false;m=setInterval(function(){g.move(c.steps)},c.interval);g.move(c.steps)}};g.pause=function(){m=clearInterval(m)};
g.stop=function(){g.pause();l=true};c.autopause&&g.getRoot().add(g.getNaviButtons()).hover(function(){g.pause();clearInterval(q)},function(){l||(q=setTimeout(g.play,c.interval))});c.autoplay&&setTimeout(g.play,c.interval)});return c.api?f:this}})(jQuery);
(function(a){var b=a.tools.scrollable;b.plugins=b.plugins||{};b.plugins.navigator={version:"1.0.2",conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:false,api:false,idPrefix:null}};a.fn.navigator=function(e){var c=a.extend({},b.plugins.navigator.conf),f;if(typeof e=="string")e={navi:e};e=a.extend(c,e);this.each(function(){var g=a(this).scrollable(),m=g.getRoot(),q=m.data("finder").call(null,e.navi),l=null,d=g.getNaviButtons();if(g)f=g;g.getNaviButtons=function(){return d.add(q)};function i(){if(!q.children().length||
q.data("navi")==g){q.empty();q.data("navi",g);for(var k=0;k<g.getPageAmount();k++)q.append(a("<"+(e.naviItem||"a")+"/>"));l=q.children().each(function(n){var r=a(this);r.click(function(p){g.setPage(n);return p.preventDefault()});e.indexed&&r.text(n);e.idPrefix&&r.attr("id",e.idPrefix+n)})}else{l=e.naviItem?q.find(e.naviItem):q.children();l.each(function(n){var r=a(this);r.click(function(p){g.setPage(n);return p.preventDefault()})})}l.eq(0).addClass(e.activeClass)}g.onStart(function(){var k=e.activeClass;
l.removeClass(k).eq(g.getPageIndex()).addClass(k)});g.onReload(function(){i()});i();m=l.filter("[href="+location.hash+"]");m.length&&g.move(l.index(m))});return e.api?f:this}})(jQuery);
(function(a){a.fn.wheel=function(f){return this[f?"bind":"trigger"]("wheel",f)};a.event.special.wheel={setup:function(){a.event.add(this,b,e,{})},teardown:function(){a.event.remove(this,b,e)}};var b=!a.browser.mozilla?"mousewheel":"DOMMouseScroll"+(a.browser.version<"1.9"?" mousemove":"");function e(f){switch(f.type){case "mousemove":return a.extend(f.data,{clientX:f.clientX,clientY:f.clientY,pageX:f.pageX,pageY:f.pageY});case "DOMMouseScroll":a.extend(f,f.data);f.delta=-f.detail/3;break;case "mousewheel":f.delta=
f.wheelDelta/120;break}f.type="wheel";return a.event.handle.call(this,f,f.delta)}var c=a.tools.scrollable;c.plugins=c.plugins||{};c.plugins.mousewheel={version:"1.0.1",conf:{api:false,speed:50}};a.fn.mousewheel=function(f){var g=a.extend({},c.plugins.mousewheel.conf),m;if(typeof f=="number")f={speed:f};f=a.extend(g,f);this.each(function(){var q=a(this).scrollable();if(q)m=q;q.getRoot().wheel(function(l,d){q.move(d<0?1:-1,f.speed||50);return false})});return f.api?m:this}})(jQuery);(function(a){a.fn.timePicker=function(l){var d=a.extend({},a.fn.timePicker.defaults,l);return this.each(function(){a.timePicker(this,d)})};a.timePicker=function(l,d){l=a(l)[0];return l.timePicker||(l.timePicker=new jQuery._timePicker(l,d))};a._timePicker=function(l,d){var i=false,k=false,n=g(d.startTime,d),r=g(d.endTime,d);a(l).attr("autocomplete","OFF");for(var p=[],o=new Date(n);o<=r;){p[p.length]=e(o,d);o=new Date(o.setMinutes(o.getMinutes()+d.step))}var t=a("<div "+(d.tpDivId?'id="'+d.tpDivId+
'" ':"")+'class="time-picker'+(d.show24Hours?"":" time-picker-12hours")+'"></div>'),v=a("<ul></ul>");for(o=0;o<p.length;o++)v.append("<li>"+p[o]+"</li>");t.append(v);p=a(l).offset();t.appendTo("body").css({top:p.top-48+"px",left:p.left,width:a(l).width()+5+"px"}).hide();t.mouseover(function(){i=true}).mouseout(function(){i=false});a("li",v).mouseover(function(){if(!k){a("li.selected",t).removeClass("selected");a(this).addClass("selected")}}).mousedown(function(){i=true}).click(function(){b(l,this,
t,d);i=false});function h(){if(t.is(":visible"))return false;a("li",t).removeClass("selected");var j=a(l).offset();t.css({top:j.top-48+"px",left:j.left,width:a(l).width()+5+"px"});t.show();var s=l.value?m(l.value,d):n;j=n.getHours()*60+n.getMinutes();s=s.getHours()*60+s.getMinutes()-j;s=Math.round(s/d.step);j=q(new Date(0,0,0,0,s*d.step+j,0));j=n<j&&j<=r?j:n;j=a("li:contains("+e(j,d)+")",t);if(j.length){j.addClass("selected");t[0].scrollTop=j[0].offsetTop}return true}a(l).focus(h).click(h);a(l).blur(function(){i||
t.hide()});p=a.browser.opera||a.browser.mozilla?"keypress":"keydown";a(l)[p](function(j){k=true;var s=t[0].scrollTop;switch(j.keyCode){case 38:if(h())return false;j=a("li.selected",v);var u=j.prev().addClass("selected")[0];if(u){j.removeClass("selected");if(u.offsetTop<s)t[0].scrollTop=s-u.offsetHeight}else{j.removeClass("selected");u=a("li:last",v).addClass("selected")[0];t[0].scrollTop=u.offsetTop-u.offsetHeight}return false;case 40:if(h())return false;j=a("li.selected",v);if(u=j.next().addClass("selected")[0]){j.removeClass("selected");
if(u.offsetTop+u.offsetHeight>s+t[0].offsetHeight)t[0].scrollTop=s+u.offsetHeight}else{j.removeClass("selected");a("li:first",v).addClass("selected");t[0].scrollTop=0}return false;case 13:if(t.is(":visible")){s=a("li.selected",v)[0];b(l,s,t,d)}return false;case 27:t.hide();return false}return true});a(l).keyup(function(){k=false});this.getTime=function(){return m(l.value,d)};this.setTime=function(j){l.value=e(q(j),d);a(l).change()}};a.fn.timePicker.defaults={step:30,startTime:new Date(0,0,0,0,0,0),
endTime:new Date(0,0,0,23,30,0),separator:":",show24Hours:true};function b(l,d,i){l.value=a(d).text();a(l).change();a.browser.msie||l.focus();i.hide()}function e(l,d){var i=l.getHours(),k=d.show24Hours?i:(i+11)%12+1;k=f(k,d);l=l.getMinutes();return k+d.separator+c(l)+(d.show24Hours?"":i<12?" AM":" PM")}function c(l){return(l<10?"0":"")+l}function f(l,d){return d.show24Hours?(l<10?"0":"")+l:l}function g(l,d){return typeof l=="object"?q(l):m(l,d)}function m(l,d){if(l){var i=l.split(d.separator),k=parseFloat(i[0]);
i=parseFloat(i[1]);if(!d.show24Hours)if(k===12&&l.substr("AM")!==-1)k=0;else if(k!==12&&l.indexOf("PM")!==-1)k+=12;l=new Date(0,0,0,k,i,0);return q(l)}return null}function q(l){l.setFullYear(2001);l.setMonth(0);l.setDate(0);return l}})(jQuery);if(!this.JSON)this.JSON={};
(function(){function a(d){return d<10?"0"+d:d}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e=
/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c,f,g={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;function q(d){e.lastIndex=0;return e.test(d)?'"'+d.replace(e,function(i){var k=g[i];return typeof k==="string"?k:"\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+d+'"'}function l(d,i){var k,n,r=c,p,o=i[d];if(o&&typeof o==="object"&&typeof o.toJSON==="function")o=o.toJSON(d);
if(typeof m==="function")o=m.call(i,d,o);switch(typeof o){case "string":return q(o);case "number":return isFinite(o)?String(o):"null";case "boolean":case "null":return String(o);case "object":if(!o)return"null";c+=f;p=[];if(Object.prototype.toString.apply(o)==="[object Array]"){n=o.length;for(d=0;d<n;d+=1)p[d]=l(d,o)||"null";i=p.length===0?"[]":c?"[\n"+c+p.join(",\n"+c)+"\n"+r+"]":"["+p.join(",")+"]";c=r;return i}if(m&&typeof m==="object"){n=m.length;for(d=0;d<n;d+=1){k=m[d];if(typeof k==="string")if(i=
l(k,o))p.push(q(k)+(c?": ":":")+i)}}else for(k in o)if(Object.hasOwnProperty.call(o,k))if(i=l(k,o))p.push(q(k)+(c?": ":":")+i);i=p.length===0?"{}":c?"{\n"+c+p.join(",\n"+c)+"\n"+r+"}":"{"+p.join(",")+"}";c=r;return i}}if(typeof JSON.stringify!=="function")JSON.stringify=function(d,i,k){var n;f=c="";if(typeof k==="number")for(n=0;n<k;n+=1)f+=" ";else if(typeof k==="string")f=k;if((m=i)&&typeof i!=="function"&&(typeof i!=="object"||typeof i.length!=="number"))throw new Error("JSON.stringify");return l("",
{"":d})};if(typeof JSON.parseIt!=="function")JSON.parseIt=function(d,i){function k(n,r){var p,o,t=n[r];if(t&&typeof t==="object")for(p in t)if(Object.hasOwnProperty.call(t,p)){o=k(t,p);if(o!==undefined)t[p]=o;else delete t[p]}return i.call(n,r,t)}b.lastIndex=0;if(b.test(d))d=d.replace(b,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(d.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){d=eval("("+d+")");return typeof i==="function"?k({"":d},""):d}throw new SyntaxError("JSON.parseIt");}})();(function(a){a.tools=a.tools||{};a.tools.scrollable={version:"1.1.2",conf:{size:5,vertical:false,speed:400,keyboard:true,keyboardSteps:null,disabledClass:"disabled",hoverClass:null,clickable:true,activeClass:"active",easing:"swing",loop:false,items:".items",item:null,prev:".prev",next:".next",prevPage:".prevPage",nextPage:".nextPage",api:false}};var b;function e(c,f){var g=this,m=a(this),q=!f.vertical,l=c.children(),d=0,i;b||(b=g);a.each(f,function(h,j){a.isFunction(j)&&m.bind(h,j)});if(l.length>
1)l=a(f.items,c);function k(h){var j=a(h);return f.globalNav?j:c.parent().find(h)}c.data("finder",k);var n=k(f.prev),r=k(f.next),p=k(f.prevPage),o=k(f.nextPage);a.extend(g,{getIndex:function(){return d},getClickIndex:function(){var h=g.getItems();return h.index(h.filter("."+f.activeClass))},getConf:function(){return f},getSize:function(){return g.getItems().size()},getPageAmount:function(){return Math.ceil(this.getSize()/f.size)},getPageIndex:function(){return Math.ceil(d/f.size)},getNaviButtons:function(){return n.add(r).add(p).add(o)},
getRoot:function(){return c},getItemWrap:function(){return l},getItems:function(){return l.children(f.item)},getVisibleItems:function(){return g.getItems().slice(d,d+f.size)},seekTo:function(h,j,s){if(h<0)h=0;if(d===h)return g;if(a.isFunction(j))s=j;if(h>g.getSize()-f.size)return f.loop?g.begin():this.end();var u=g.getItems().eq(h);if(!u.length)return g;var w=a.Event("onBeforeSeek");m.trigger(w,h>d);if(w.isDefaultPrevented())return g;if(j===undefined||a.isFunction(j))j=f.speed;function x(){s&&s.call(g,
h);m.trigger("onSeek",[h])}q?l.animate({left:-u.position().left},j,f.easing,x):l.animate({top:-u.position().top},j,f.easing,x);b=g;d=h;w=a.Event("onStart");m.trigger(w,[h]);if(w.isDefaultPrevented())return g;n.add(p).toggleClass(f.disabledClass,h===0);r.add(o).toggleClass(f.disabledClass,h>=g.getSize()-f.size);return g},move:function(h,j,s){i=h>0;return this.seekTo(d+h,j,s)},next:function(h,j){return this.move(1,h,j)},prev:function(h,j){return this.move(-1,h,j)},movePage:function(h,j,s){i=h>0;var u=
f.size*h,w=d%f.size;if(w>0)u+=h>0?-w:f.size-w;return this.move(u,j,s)},prevPage:function(h,j){return this.movePage(-1,h,j)},nextPage:function(h,j){return this.movePage(1,h,j)},setPage:function(h,j,s){return this.seekTo(h*f.size,j,s)},begin:function(h,j){i=false;return this.seekTo(0,h,j)},end:function(h,j){i=true;var s=this.getSize()-f.size;return s>0?this.seekTo(s,h,j):g},reload:function(){m.trigger("onReload");return g},focus:function(){return b=g},click:function(h){var j=g.getItems().eq(h),s=f.activeClass,
u=f.size;if(h<0||h>=g.getSize())return g;if(u==1){if(f.loop)return g.next();if(h===0||h==g.getSize()-1)i=i===undefined?true:!i;return i===false?g.prev():g.next()}if(u==2){h==d&&h--;g.getItems().removeClass(s);j.addClass(s);return g.seekTo(h,time,fn)}if(!j.hasClass(s)){g.getItems().removeClass(s);j.addClass(s);j=Math.floor(u/2);j=h-j;if(j>g.getSize()-u)j=g.getSize()-u;if(j!==h)return g.seekTo(j)}return g},bind:function(h,j){m.bind(h,j);return g},unbind:function(h){m.unbind(h);return g}});a.each("onBeforeSeek,onStart,onSeek,onReload".split(","),
function(h,j){g[j]=function(s){return g.bind(j,s)}});n.addClass(f.disabledClass).click(function(){g.prev()});r.click(function(){g.next()});o.click(function(){g.nextPage()});g.getSize()<f.size&&r.add(o).addClass(f.disabledClass);p.addClass(f.disabledClass).click(function(){g.prevPage()});var t=f.hoverClass,v="keydown."+Math.random().toString().substring(10);g.onReload(function(){t&&g.getItems().hover(function(){a(this).addClass(t)},function(){a(this).removeClass(t)});f.clickable&&g.getItems().each(function(h){a(this).unbind("click.scrollable").bind("click.scrollable",
function(j){if(!a(j.target).is("a"))return g.click(h)})});f.keyboard?a(document).unbind(v).bind(v,function(h){if(!(h.altKey||h.ctrlKey))if(!(f.keyboard!="static"&&b!=g)){var j=f.keyboardSteps;if(q&&(h.keyCode==37||h.keyCode==39)){g.move(h.keyCode==37?-j:j);return h.preventDefault()}if(!q&&(h.keyCode==38||h.keyCode==40)){g.move(h.keyCode==38?-j:j);return h.preventDefault()}return true}}):a(document).unbind(v)});g.reload()}a.fn.scrollable=function(c){var f=this.eq(typeof c=="number"?c:0).data("scrollable");
if(f)return f;var g=a.extend({},a.tools.scrollable.conf);c=a.extend(g,c);c.keyboardSteps=c.keyboardSteps||c.size;this.each(function(){f=new e(a(this),c);a(this).data("scrollable",f)});return c.api?f:this}})(jQuery);(function(a){a.fn.wheel=function(f){return this[f?"bind":"trigger"]("wheel",f)};a.event.special.wheel={setup:function(){a.event.add(this,b,e,{})},teardown:function(){a.event.remove(this,b,e)}};var b=!a.browser.mozilla?"mousewheel":"DOMMouseScroll"+(a.browser.version<"1.9"?" mousemove":"");function e(f){switch(f.type){case "mousemove":return a.extend(f.data,{clientX:f.clientX,clientY:f.clientY,pageX:f.pageX,pageY:f.pageY});case "DOMMouseScroll":a.extend(f,f.data);f.delta=-f.detail/3;break;case "mousewheel":f.delta=
f.wheelDelta/120;break}f.type="wheel";return a.event.handle.call(this,f,f.delta)}var c=a.tools.scrollable;c.plugins=c.plugins||{};c.plugins.mousewheel={version:"1.0.1",conf:{api:false,speed:50}};a.fn.mousewheel=function(f){var g=a.extend({},c.plugins.mousewheel.conf),m;if(typeof f=="number")f={speed:f};f=a.extend(g,f);this.each(function(){var q=a(this).scrollable();if(q)m=q;q.getRoot().wheel(function(l,d){q.move(d<0?1:-1,f.speed||50);return false})});return f.api?m:this}})(jQuery);jQuery.ui||function(a){var b=a.fn.remove,e=a.browser.mozilla&&parseFloat(a.browser.version)<1.9;a.ui={version:"1.7.2",plugin:{add:function(d,i,k){d=a.ui[d].prototype;for(var n in k){d.plugins[n]=d.plugins[n]||[];d.plugins[n].push([i,k[n]])}},call:function(d,i,k){if((i=d.plugins[i])&&d.element[0].parentNode)for(var n=0;n<i.length;n++)d.options[i[n][0]]&&i[n][1].apply(d.element,k)}},contains:function(d,i){return document.compareDocumentPosition?d.compareDocumentPosition(i)&16:d!==i&&d.contains(i)},
hasScroll:function(d,i){if(a(d).css("overflow")=="hidden")return false;i=i&&i=="left"?"scrollLeft":"scrollTop";var k=false;if(d[i]>0)return true;d[i]=1;k=d[i]>0;d[i]=0;return k},isOverAxis:function(d,i,k){return d>i&&d<i+k},isOver:function(d,i,k,n,r,p){return a.ui.isOverAxis(d,k,r)&&a.ui.isOverAxis(i,n,p)},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,
NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(e){var c=a.attr,f=a.fn.removeAttr,g="http://www.w3.org/2005/07/aaa",m=/^aria-/,q=/^wairole:/;a.attr=function(d,i,k){var n=k!==undefined;return i=="role"?n?c.call(this,d,i,"wairole:"+k):(c.apply(this,arguments)||"").replace(q,""):m.test(i)?n?d.setAttributeNS(g,i.replace(m,"aaa:"),k):c.call(this,d,i.replace(m,"aaa:")):c.apply(this,arguments)};a.fn.removeAttr=function(d){return m.test(d)?
this.each(function(){this.removeAttributeNS(g,d.replace(m,""))}):f.call(this,d)}}a.fn.extend({remove:function(){a("*",this).add(this).each(function(){a(this).triggerHandler("remove")});return b.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var d;
d=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||
!d.length?a(document):d}});a.extend(a.expr[":"],{data:function(d,i,k){return!!a.data(d,k[3])},focusable:function(d){var i=d.nodeName.toLowerCase(),k=a.attr(d,"tabindex");return(/input|select|textarea|button|object/.test(i)?!d.disabled:"a"==i||"area"==i?d.href||!isNaN(k):!isNaN(k))&&!a(d)["area"==i?"parents":"closest"](":hidden").length},tabbable:function(d){var i=a.attr(d,"tabindex");return(isNaN(i)||i>=0)&&a(d).is(":focusable")}});function l(d,i,k,n){function r(o){o=a[d][i][o]||[];return typeof o==
"string"?o.split(/,?\s+/):o}var p=r("getter");if(n.length==1&&typeof n[0]=="string")p=p.concat(r("getterSetter"));return a.inArray(k,p)!=-1}a.widget=function(d,i){var k=d.split(".")[0];d=d.split(".")[1];a.fn[d]=function(n){var r=typeof n=="string",p=Array.prototype.slice.call(arguments,1);if(r&&n.substring(0,1)=="_")return this;if(r&&l(k,d,n,p)){var o=a.data(this[0],d);return o?o[n].apply(o,p):undefined}return this.each(function(){var t=a.data(this,d);!t&&!r&&a.data(this,d,new a[k][d](this,n))._init();
t&&r&&a.isFunction(t[n])&&t[n].apply(t,p)})};a[k]=a[k]||{};a[k][d]=function(n,r){var p=this;this.namespace=k;this.widgetName=d;this.widgetEventPrefix=a[k][d].eventPrefix||d;this.widgetBaseClass=k+"-"+d;this.options=a.extend({},a.widget.defaults,a[k][d].defaults,a.metadata&&a.metadata.get(n)[d],r);this.element=a(n).bind("setData."+d,function(o,t,v){if(o.target==n)return p._setData(t,v)}).bind("getData."+d,function(o,t){if(o.target==n)return p._getData(t)}).bind("remove",function(){return p.destroy()})};
a[k][d].prototype=a.extend({},a.widget.prototype,i);a[k][d].getterSetter="option"};a.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled")},option:function(d,i){var k=d,n=this;if(typeof d=="string"){if(i===undefined)return this._getData(d);k={};k[d]=i}a.each(k,function(r,p){n._setData(r,p)})},_getData:function(d){return this.options[d]},_setData:function(d,
i){this.options[d]=i;if(d=="disabled")this.element[i?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",i)},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(d,i,k){var n=this.options[d];d=d==this.widgetEventPrefix?d:this.widgetEventPrefix+d;i=a.Event(i);i.type=d;if(i.originalEvent){d=a.event.props.length;for(var r;d;){r=a.event.props[--d];i[r]=i.originalEvent[r]}}this.element.trigger(i,
k);return!(a.isFunction(n)&&n.call(this.element[0],i,k)===false||i.isDefaultPrevented())}};a.widget.defaults={disabled:false};a.ui.mouse={_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(i){return d._mouseDown(i)}).bind("click."+this.widgetName,function(i){if(d._preventClickEvent){d._preventClickEvent=false;i.stopImmediatePropagation();return false}});if(a.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable",
"on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);a.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable)},_mouseDown:function(d){d.originalEvent=d.originalEvent||{};if(!d.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(d);this._mouseDownEvent=d;var i=this,k=d.which==1,n=typeof this.options.cancel=="string"?a(d.target).parents().add(d.target).filter(this.options.cancel).length:false;if(!k||n||!this._mouseCapture(d))return true;
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=this._mouseStart(d)!==false;if(!this._mouseStarted){d.preventDefault();return true}}this._mouseMoveDelegate=function(r){return i._mouseMove(r)};this._mouseUpDelegate=function(r){return i._mouseUp(r)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+
this.widgetName,this._mouseUpDelegate);a.browser.safari||d.preventDefault();return d.originalEvent.mouseHandled=true}},_mouseMove:function(d){if(a.browser.msie&&!d.button)return this._mouseUp(d);if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault()}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,d)!==false)?this._mouseDrag(d):this._mouseUp(d);return!this._mouseStarted},_mouseUp:function(d){a(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=d.target==this._mouseDownEvent.target;this._mouseStop(d)}return false},_mouseDistanceMet:function(d){return Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},
_mouseStop:function(){},_mouseCapture:function(){return true}};a.ui.mouse.defaults={cancel:null,distance:1,delay:0}}(jQuery);(function(a){a.widget("ui.draggable",a.extend({},a.ui.mouse,{_init:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");
this._mouseDestroy()}},_mouseCapture:function(b){var e=this.options;if(this.helper||e.disabled||a(b.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(b);if(!this.handle)return false;return true},_mouseStart:function(b){var e=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();if(a.ui.ddmanager)a.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.element.offset();
this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;e.cursorAt&&this._adjustOffsetFromHelper(e.cursorAt);e.containment&&this._setContainment();this._trigger("start",b);this._cacheHelperProportions();a.ui.ddmanager&&
!e.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(b,true);return true},_mouseDrag:function(b,e){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!e){e=this._uiHash();this._trigger("drag",b,e);this.position=e.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+
"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return false},_mouseStop:function(b){var e=false;if(a.ui.ddmanager&&!this.options.dropBehaviour)e=a.ui.ddmanager.drop(this,b);if(this.dropped){e=this.dropped;this.dropped=false}if(this.options.revert=="invalid"&&!e||this.options.revert=="valid"&&e||this.options.revert===true||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,e)){var c=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){c._trigger("stop",
b);c._clear()})}else{this._trigger("stop",b);this._clear()}return false},_getHandle:function(b){var e=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==b.target)e=true});return e},_createHelper:function(b){var e=this.options;b=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[b])):e.helper=="clone"?this.element.clone():this.element;b.parents("body").length||b.appendTo(e.appendTo=="parent"?
this.element[0].parentNode:e.appendTo);b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute");return b},_adjustOffsetFromHelper:function(b){if(b.left!=undefined)this.offset.click.left=b.left+this.margins.left;if(b.right!=undefined)this.offset.click.left=this.helperProportions.width-b.right+this.margins.left;if(b.top!=undefined)this.offset.click.top=b.top+this.margins.top;if(b.bottom!=undefined)this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top},
_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),
10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if(b.containment=="parent")b.containment=this.helper[0].parentNode;if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-
this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)jQuery/.test(b.containment)&&b.containment.constructor!=Array){var e=a(b.containment)[0];if(e){b=a(b.containment).offset();var c=a(e).css("overflow")!="hidden";this.containment=[b.left+(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(e).css("borderTopWidth"),
10)||0)+(parseInt(a(e).css("paddingTop"),10)||0)-this.margins.top,b.left+(c?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(c?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(b.containment.constructor==
Array)this.containment=b.containment},_convertPositionTo:function(b,e){if(!e)e=this.position;b=b=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName);return{top:e.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:c.scrollTop())*
b),left:e.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:c.scrollLeft())*b)}},_generatePosition:function(b){var e=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,f=/(html|body)/i.test(c[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=
document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var g=b.pageX,m=b.pageY;if(this.originalPosition){if(this.containment){if(b.pageX-this.offset.click.left<this.containment[0])g=this.containment[0]+this.offset.click.left;if(b.pageY-this.offset.click.top<this.containment[1])m=this.containment[1]+this.offset.click.top;if(b.pageX-this.offset.click.left>this.containment[2])g=this.containment[2]+this.offset.click.left;if(b.pageY-this.offset.click.top>this.containment[3])m=
this.containment[3]+this.offset.click.top}if(e.grid){m=this.originalPageY+Math.round((m-this.originalPageY)/e.grid[1])*e.grid[1];m=this.containment?!(m-this.offset.click.top<this.containment[1]||m-this.offset.click.top>this.containment[3])?m:!(m-this.offset.click.top<this.containment[1])?m-e.grid[1]:m+e.grid[1]:m;g=this.originalPageX+Math.round((g-this.originalPageX)/e.grid[0])*e.grid[0];g=this.containment?!(g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2])?
g:!(g-this.offset.click.left<this.containment[0])?g-e.grid[0]:g+e.grid[0]:g}}return{top:m-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():f?0:c.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():f?0:c.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");
this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(b,e,c){c=c||this._uiHash();a.ui.plugin.call(this,b,[e,c]);if(b=="drag")this.positionAbs=this._convertPositionTo("absolute");return a.widget.prototype._trigger.call(this,b,e,c)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,offset:this.positionAbs}}}));a.extend(a.ui.draggable,{version:"1.7.2",
eventPrefix:"drag",defaults:{addClasses:true,appendTo:"parent",axis:false,cancel:":input,option",connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false}});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,
e){var c=a(this).data("draggable"),f=c.options,g=a.extend({},e,{item:c.element});c.sortables=[];a(f.connectToSortable).each(function(){var m=a.data(this,"sortable");if(m&&!m.options.disabled){c.sortables.push({instance:m,shouldRevert:m.options.revert});m._refreshItems();m._trigger("activate",b,g)}})},stop:function(b,e){var c=a(this).data("draggable"),f=a.extend({},e,{item:c.element});a.each(c.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;c.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=
false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(b);this.instance.options.helper=this.instance.options._helper;c.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",b,f)}})},drag:function(b,e){var c=a(this).data("draggable"),f=this;a.each(c.sortables,function(){this.instance.positionAbs=c.positionAbs;this.instance.helperProportions=c.helperProportions;
this.instance.offset.click=c.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(f).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return e.helper[0]};b.target=this.instance.currentItem[0];this.instance._mouseCapture(b,true);this.instance._mouseStart(b,true,true);this.instance.offset.click.top=
c.offset.click.top;this.instance.offset.click.left=c.offset.click.left;this.instance.offset.parent.left-=c.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=c.offset.parent.top-this.instance.offset.parent.top;c._trigger("toSortable",b);c.dropped=this.instance.element;c.currentItem=c.element;this.instance.fromOutside=c}this.instance.currentItem&&this.instance._mouseDrag(b)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;
this.instance.options.revert=false;this.instance._trigger("out",b,this.instance._uiHash(this.instance));this.instance._mouseStop(b,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();c._trigger("fromSortable",b);c.dropped=false}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),e=a(this).data("draggable").options;if(b.css("cursor"))e._cursor=b.css("cursor");b.css("cursor",
e.cursor)},stop:function(){if(a(this).data("draggable")){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}});a.ui.plugin.add("draggable","iframeFix",{start:function(){var b=a(this).data("draggable").options;a(b.iframeFix===true?"iframe":b.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")})},
stop:function(){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(b,e){b=a(e.helper);e=a(this).data("draggable").options;if(b.css("opacity"))e._opacity=b.css("opacity");b.css("opacity",e.opacity)},stop:function(b,e){b=a(this).data("draggable").options;b._opacity&&a(e.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");if(b.scrollParent[0]!=
document&&b.scrollParent[0].tagName!="HTML")b.overflowOffset=b.scrollParent.offset()},drag:function(b){var e=a(this).data("draggable"),c=e.options,f=false;if(e.scrollParent[0]!=document&&e.scrollParent[0].tagName!="HTML"){if(!c.axis||c.axis!="x")if(e.overflowOffset.top+e.scrollParent[0].offsetHeight-b.pageY<c.scrollSensitivity)e.scrollParent[0].scrollTop=f=e.scrollParent[0].scrollTop+c.scrollSpeed;else if(b.pageY-e.overflowOffset.top<c.scrollSensitivity)e.scrollParent[0].scrollTop=f=e.scrollParent[0].scrollTop-
c.scrollSpeed;if(!c.axis||c.axis!="y")if(e.overflowOffset.left+e.scrollParent[0].offsetWidth-b.pageX<c.scrollSensitivity)e.scrollParent[0].scrollLeft=f=e.scrollParent[0].scrollLeft+c.scrollSpeed;else if(b.pageX-e.overflowOffset.left<c.scrollSensitivity)e.scrollParent[0].scrollLeft=f=e.scrollParent[0].scrollLeft-c.scrollSpeed}else{if(!c.axis||c.axis!="x")if(b.pageY-a(document).scrollTop()<c.scrollSensitivity)f=a(document).scrollTop(a(document).scrollTop()-c.scrollSpeed);else if(a(window).height()-
(b.pageY-a(document).scrollTop())<c.scrollSensitivity)f=a(document).scrollTop(a(document).scrollTop()+c.scrollSpeed);if(!c.axis||c.axis!="y")if(b.pageX-a(document).scrollLeft()<c.scrollSensitivity)f=a(document).scrollLeft(a(document).scrollLeft()-c.scrollSpeed);else if(a(window).width()-(b.pageX-a(document).scrollLeft())<c.scrollSensitivity)f=a(document).scrollLeft(a(document).scrollLeft()+c.scrollSpeed)}f!==false&&a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(e,b)}});a.ui.plugin.add("draggable",
"snap",{start:function(){var b=a(this).data("draggable"),e=b.options;b.snapElements=[];a(e.snap.constructor!=String?e.snap.items||":data(draggable)":e.snap).each(function(){var c=a(this),f=c.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:f.top,left:f.left})})},drag:function(b,e){for(var c=a(this).data("draggable"),f=c.options,g=f.snapTolerance,m=e.offset.left,q=m+c.helperProportions.width,l=e.offset.top,d=l+c.helperProportions.height,i=
c.snapElements.length-1;i>=0;i--){var k=c.snapElements[i].left,n=k+c.snapElements[i].width,r=c.snapElements[i].top,p=r+c.snapElements[i].height;if(k-g<m&&m<n+g&&r-g<l&&l<p+g||k-g<m&&m<n+g&&r-g<d&&d<p+g||k-g<q&&q<n+g&&r-g<l&&l<p+g||k-g<q&&q<n+g&&r-g<d&&d<p+g){if(f.snapMode!="inner"){var o=Math.abs(r-d)<=g,t=Math.abs(p-l)<=g,v=Math.abs(k-q)<=g,h=Math.abs(n-m)<=g;if(o)e.position.top=c._convertPositionTo("relative",{top:r-c.helperProportions.height,left:0}).top-c.margins.top;if(t)e.position.top=c._convertPositionTo("relative",
{top:p,left:0}).top-c.margins.top;if(v)e.position.left=c._convertPositionTo("relative",{top:0,left:k-c.helperProportions.width}).left-c.margins.left;if(h)e.position.left=c._convertPositionTo("relative",{top:0,left:n}).left-c.margins.left}var j=o||t||v||h;if(f.snapMode!="outer"){o=Math.abs(r-l)<=g;t=Math.abs(p-d)<=g;v=Math.abs(k-m)<=g;h=Math.abs(n-q)<=g;if(o)e.position.top=c._convertPositionTo("relative",{top:r,left:0}).top-c.margins.top;if(t)e.position.top=c._convertPositionTo("relative",{top:p-c.helperProportions.height,
left:0}).top-c.margins.top;if(v)e.position.left=c._convertPositionTo("relative",{top:0,left:k}).left-c.margins.left;if(h)e.position.left=c._convertPositionTo("relative",{top:0,left:n-c.helperProportions.width}).left-c.margins.left}if(!c.snapElements[i].snapping&&(o||t||v||h||j))c.options.snap.snap&&c.options.snap.snap.call(c.element,b,a.extend(c._uiHash(),{snapItem:c.snapElements[i].item}));c.snapElements[i].snapping=o||t||v||h||j}else{c.snapElements[i].snapping&&c.options.snap.release&&c.options.snap.release.call(c.element,
b,a.extend(c._uiHash(),{snapItem:c.snapElements[i].item}));c.snapElements[i].snapping=false}}}});a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options,e=a.makeArray(a(b.stack.group)).sort(function(c,f){return(parseInt(a(c).css("zIndex"),10)||b.stack.min)-(parseInt(a(f).css("zIndex"),10)||b.stack.min)});a(e).each(function(c){this.style.zIndex=b.stack.min+c});this[0].style.zIndex=b.stack.min+e.length}});a.ui.plugin.add("draggable","zIndex",{start:function(b,e){b=
a(e.helper);e=a(this).data("draggable").options;if(b.css("zIndex"))e._zIndex=b.css("zIndex");b.css("zIndex",e.zIndex)},stop:function(b,e){b=a(this).data("draggable").options;b._zIndex&&a(e.helper).css("zIndex",b._zIndex)}})})(jQuery);(function(a){a.widget("ui.droppable",{_init:function(){var b=this.options,e=b.accept;this.isover=0;this.isout=1;this.options.accept=this.options.accept&&a.isFunction(this.options.accept)?this.options.accept:function(c){return c.is(e)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[this.options.scope]=a.ui.ddmanager.droppables[this.options.scope]||[];a.ui.ddmanager.droppables[this.options.scope].push(this);this.options.addClasses&&
this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],e=0;e<b.length;e++)b[e]==this&&b.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable")},_setData:function(b,e){if(b=="accept")this.options.accept=e&&a.isFunction(e)?e:function(c){return c.is(e)};else a.widget.prototype._setData.apply(this,arguments)},_activate:function(b){var e=a.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);e&&this._trigger("activate",b,this.ui(e))},_deactivate:function(b){var e=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);e&&this._trigger("deactivate",b,this.ui(e))},_over:function(b){var e=a.ui.ddmanager.current;if(!(!e||(e.currentItem||e.element)[0]==this.element[0]))if(this.options.accept.call(this.element[0],e.currentItem||e.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over",b,this.ui(e))}},_out:function(b){var e=a.ui.ddmanager.current;if(!(!e||(e.currentItem||e.element)[0]==this.element[0]))if(this.options.accept.call(this.element[0],e.currentItem||e.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",b,this.ui(e))}},_drop:function(b,e){var c=e||a.ui.ddmanager.current;if(!c||(c.currentItem||c.element)[0]==this.element[0])return false;var f=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=
a.data(this,"droppable");if(g.options.greedy&&a.ui.intersect(c,a.extend(g,{offset:g.element.offset()}),g.options.tolerance)){f=true;return false}});if(f)return false;if(this.options.accept.call(this.element[0],c.currentItem||c.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",b,this.ui(c));return this.element}return false},ui:function(b){return{draggable:b.currentItem||
b.element,helper:b.helper,position:b.position,absolutePosition:b.positionAbs,offset:b.positionAbs}}});a.extend(a.ui.droppable,{version:"1.7.2",eventPrefix:"drop",defaults:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"}});a.ui.intersect=function(b,e,c){if(!e.offset)return false;var f=(b.positionAbs||b.position.absolute).left,g=f+b.helperProportions.width,m=(b.positionAbs||b.position.absolute).top,q=m+b.helperProportions.height,l=e.offset.left,
d=l+e.proportions.width,i=e.offset.top,k=i+e.proportions.height;switch(c){case "fit":return l<f&&g<d&&i<m&&q<k;case "intersect":return l<f+b.helperProportions.width/2&&g-b.helperProportions.width/2<d&&i<m+b.helperProportions.height/2&&q-b.helperProportions.height/2<k;case "pointer":c=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left;b=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top;return e=a.ui.isOver(b,c,i,l,e.proportions.height,e.proportions.width);
case "touch":return(m>=i&&m<=k||q>=i&&q<=k||m<i&&q>k)&&(f>=l&&f<=d||g>=l&&g<=d||f<l&&g>d);default:return false}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,e){var c=a.ui.ddmanager.droppables[b.options.scope],f=e?e.type:null,g=(b.currentItem||b.element).find(":data(droppable)").andSelf(),m=0;a:for(;m<c.length;m++)if(!(c[m].options.disabled||b&&!c[m].options.accept.call(c[m].element[0],b.currentItem||b.element))){for(var q=0;q<g.length;q++)if(g[q]==c[m].element[0]){c[m].proportions.height=
0;continue a}c[m].visible=c[m].element.css("display")!="none";if(c[m].visible){c[m].offset=c[m].element.offset();c[m].proportions={width:c[m].element[0].offsetWidth,height:c[m].element[0].offsetHeight};f=="mousedown"&&c[m]._activate.call(c[m],e)}}},drop:function(b,e){var c=false;a.each(a.ui.ddmanager.droppables[b.options.scope],function(){if(this.options){if(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance))c=this._drop.call(this,e);if(!this.options.disabled&&this.visible&&
this.options.accept.call(this.element[0],b.currentItem||b.element)){this.isout=1;this.isover=0;this._deactivate.call(this,e)}}});return c},drag:function(b,e){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,e);a.each(a.ui.ddmanager.droppables[b.options.scope],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var c=a.ui.intersect(b,this,this.options.tolerance);if(c=!c&&this.isover==1?"isout":c&&this.isover==0?"isover":null){var f;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");
if(g.length){f=a.data(g[0],"droppable");f.greedyChild=c=="isover"?1:0}}if(f&&c=="isover"){f.isover=0;f.isout=1;f._out.call(f,e)}this[c]=1;this[c=="isout"?"isover":"isout"]=0;this[c=="isover"?"_over":"_out"].call(this,e);if(f&&c=="isout"){f.isout=0;f.isover=1;f._over.call(f,e)}}}})}}})(jQuery);

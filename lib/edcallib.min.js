var humanMsg={setup:function(a,b){humanMsg.msgID="humanMsg";humanMsg.logID="humanMsgLog";if(a==undefined)a="body";humanMsg.msgOpacity=0.8;if(b!=undefined)humanMsg.msgOpacity=parseFloat(b);jQuery(a).append('<div id="'+humanMsg.msgID+'" class="humanMsg"><div class="round"></div><p></p><div class="round"></div></div>');jQuery("#"+humanMsg.logID+" p").click(function(){jQuery(this).siblings("ul").slideToggle()})},displayMsg:function(a){if(a!=""){clearTimeout(humanMsg.t2);jQuery("#"+humanMsg.msgID+" p").html(a);
jQuery("#"+humanMsg.msgID+"").show().animate({opacity:humanMsg.msgOpacity},200,function(){jQuery("#"+humanMsg.logID).show().children("ul").prepend("<li>"+a+"</li>").children("li:first").slideDown(200);jQuery("#"+humanMsg.logID+" ul").css("display")=="none"&&jQuery("#"+humanMsg.logID+" p").animate({bottom:40},200,"linear",function(){jQuery(this).animate({bottom:0},300,"easeOutBounce",function(){jQuery(this).css({bottom:0})})})});humanMsg.t1=setTimeout("humanMsg.bindEvents()",700);humanMsg.t2=setTimeout("humanMsg.removeMsg()",
5000)}},bindEvents:function(){jQuery(window).mousemove(humanMsg.removeMsg).click(humanMsg.removeMsg).keypress(humanMsg.removeMsg)},removeMsg:function(){jQuery(window).unbind("mousemove",humanMsg.removeMsg).unbind("click",humanMsg.removeMsg).unbind("keypress",humanMsg.removeMsg);jQuery("#"+humanMsg.msgID).css("opacity")==humanMsg.msgOpacity&&jQuery("#"+humanMsg.msgID).animate({opacity:0},500,function(){jQuery(this).hide()})}};jQuery(document).ready(function(){humanMsg.setup()});(function(a){a.fn.bgIframe=a.fn.bgiframe=function(b){if(a.browser.msie&&parseInt(a.browser.version)<=6){b=a.extend({top:"auto",left:"auto",width:"auto",height:"auto",opacity:true,src:"javascript:false;"},b||{});var c=function(e){return e&&e.constructor==Number?e+"px":e},d='<iframe class="bgiframe"frameborder="0"tabindex="-1"src="'+b.src+'"style="display:block;position:absolute;z-index:-1;'+(b.opacity!==false?"filter:Alpha(Opacity='0');":"")+"top:"+(b.top=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderTopWidth)||0)*-1)+'px')":
c(b.top))+";left:"+(b.left=="auto"?"expression(((parseInt(this.parentNode.currentStyle.borderLeftWidth)||0)*-1)+'px')":c(b.left))+";width:"+(b.width=="auto"?"expression(this.parentNode.offsetWidth+'px')":c(b.width))+";height:"+(b.height=="auto"?"expression(this.parentNode.offsetHeight+'px')":c(b.height))+';"/>';return this.each(function(){a("> iframe.bgiframe",this).length==0&&this.insertBefore(document.createElement(d),this.firstChild)})}return this};if(!a.browser.version)a.browser.version=navigator.userAgent.toLowerCase().match(/.+(?:rv|it|ra|ie)[\/: ]([\d.]+)/)[1]})(jQuery);(function(a){a.each({focus:"focusin",blur:"focusout"},function(b,c){a.event.special[c]={setup:function(){if(a.browser.msie)return false;this.addEventListener(b,a.event.special[c].handler,true)},teardown:function(){if(a.browser.msie)return false;this.removeEventListener(b,a.event.special[c].handler,true)},handler:function(d){arguments[0]=a.event.fix(d);arguments[0].type=c;return a.event.handle.apply(this,arguments)}}});a.extend(a.fn,{delegate:function(b,c,d){return this.bind(b,function(e){var g=a(e.target);
if(g.is(c))return d.apply(g,arguments)})},triggerEvent:function(b,c){return this.triggerHandler(b,[a.event.fix({type:b,target:c})])}})})(jQuery);(function(a){a.tools=a.tools||{};a.tools.scrollable={version:"1.1.2",conf:{size:5,vertical:false,speed:400,keyboard:true,keyboardSteps:null,disabledClass:"disabled",hoverClass:null,clickable:true,activeClass:"active",easing:"swing",loop:false,items:".items",item:null,prev:".prev",next:".next",prevPage:".prevPage",nextPage:".nextPage",api:false}};var b;function c(d,e){var g=this,k=a(this),p=!e.vertical,r=d.children(),f=0,i;b||(b=g);a.each(e,function(h,j){a.isFunction(j)&&k.bind(h,j)});if(r.length>
1)r=a(e.items,d);function l(h){var j=a(h);return e.globalNav?j:d.parent().find(h)}d.data("finder",l);var n=l(e.prev),o=l(e.next),q=l(e.prevPage),m=l(e.nextPage);a.extend(g,{getIndex:function(){return f},getClickIndex:function(){var h=g.getItems();return h.index(h.filter("."+e.activeClass))},getConf:function(){return e},getSize:function(){return g.getItems().size()},getPageAmount:function(){return Math.ceil(this.getSize()/e.size)},getPageIndex:function(){return Math.ceil(f/e.size)},getNaviButtons:function(){return n.add(o).add(q).add(m)},
getRoot:function(){return d},getItemWrap:function(){return r},getItems:function(){return r.children(e.item)},getVisibleItems:function(){return g.getItems().slice(f,f+e.size)},seekTo:function(h,j,t){if(h<0)h=0;if(f===h)return g;if(a.isFunction(j))t=j;if(h>g.getSize()-e.size)return e.loop?g.begin():this.end();var u=g.getItems().eq(h);if(!u.length)return g;var v=a.Event("onBeforeSeek");k.trigger(v,[h]);if(v.isDefaultPrevented())return g;if(j===undefined||a.isFunction(j))j=e.speed;function x(){t&&t.call(g,
h);k.trigger("onSeek",[h])}p?r.animate({left:-u.position().left},j,e.easing,x):r.animate({top:-u.position().top},j,e.easing,x);b=g;f=h;v=a.Event("onStart");k.trigger(v,[h]);if(v.isDefaultPrevented())return g;n.add(q).toggleClass(e.disabledClass,h===0);o.add(m).toggleClass(e.disabledClass,h>=g.getSize()-e.size);return g},move:function(h,j,t){i=h>0;return this.seekTo(f+h,j,t)},next:function(h,j){return this.move(1,h,j)},prev:function(h,j){return this.move(-1,h,j)},movePage:function(h,j,t){i=h>0;var u=
e.size*h,v=f%e.size;if(v>0)u+=h>0?-v:e.size-v;return this.move(u,j,t)},prevPage:function(h,j){return this.movePage(-1,h,j)},nextPage:function(h,j){return this.movePage(1,h,j)},setPage:function(h,j,t){return this.seekTo(h*e.size,j,t)},begin:function(h,j){i=false;return this.seekTo(0,h,j)},end:function(h,j){i=true;var t=this.getSize()-e.size;return t>0?this.seekTo(t,h,j):g},reload:function(){k.trigger("onReload");return g},focus:function(){return b=g},click:function(h){var j=g.getItems().eq(h),t=e.activeClass,
u=e.size;if(h<0||h>=g.getSize())return g;if(u==1){if(e.loop)return g.next();if(h===0||h==g.getSize()-1)i=i===undefined?true:!i;return i===false?g.prev():g.next()}if(u==2){h==f&&h--;g.getItems().removeClass(t);j.addClass(t);return g.seekTo(h,time,fn)}if(!j.hasClass(t)){g.getItems().removeClass(t);j.addClass(t);j=Math.floor(u/2);j=h-j;if(j>g.getSize()-u)j=g.getSize()-u;if(j!==h)return g.seekTo(j)}return g},bind:function(h,j){k.bind(h,j);return g},unbind:function(h){k.unbind(h);return g}});a.each("onBeforeSeek,onStart,onSeek,onReload".split(","),
function(h,j){g[j]=function(t){return g.bind(j,t)}});n.addClass(e.disabledClass).click(function(){g.prev()});o.click(function(){g.next()});m.click(function(){g.nextPage()});g.getSize()<e.size&&o.add(m).addClass(e.disabledClass);q.addClass(e.disabledClass).click(function(){g.prevPage()});var s=e.hoverClass,w="keydown."+Math.random().toString().substring(10);g.onReload(function(){s&&g.getItems().hover(function(){a(this).addClass(s)},function(){a(this).removeClass(s)});e.clickable&&g.getItems().each(function(h){a(this).unbind("click.scrollable").bind("click.scrollable",
function(j){if(!a(j.target).is("a"))return g.click(h)})});e.keyboard?a(document).unbind(w).bind(w,function(h){if(!(h.altKey||h.ctrlKey))if(!(e.keyboard!="static"&&b!=g)){var j=e.keyboardSteps;if(p&&(h.keyCode==37||h.keyCode==39)){g.move(h.keyCode==37?-j:j);return h.preventDefault()}if(!p&&(h.keyCode==38||h.keyCode==40)){g.move(h.keyCode==38?-j:j);return h.preventDefault()}return true}}):a(document).unbind(w)});g.reload()}a.fn.scrollable=function(d){var e=this.eq(typeof d=="number"?d:0).data("scrollable");
if(e)return e;var g=a.extend({},a.tools.scrollable.conf);d=a.extend(g,d);d.keyboardSteps=d.keyboardSteps||d.size;this.each(function(){e=new c(a(this),d);a(this).data("scrollable",e)});return d.api?e:this}})(jQuery);
(function(a){var b=a.tools.scrollable;b.plugins=b.plugins||{};b.plugins.autoscroll={version:"1.0.1",conf:{autoplay:true,interval:3000,autopause:true,steps:1,api:false}};a.fn.autoscroll=function(c){if(typeof c=="number")c={interval:c};var d=a.extend({},b.plugins.autoscroll.conf),e;a.extend(d,c);this.each(function(){var g=a(this).scrollable();if(g)e=g;var k,p,r=true;g.play=function(){if(!k){r=false;k=setInterval(function(){g.move(d.steps)},d.interval);g.move(d.steps)}};g.pause=function(){k=clearInterval(k)};
g.stop=function(){g.pause();r=true};d.autopause&&g.getRoot().add(g.getNaviButtons()).hover(function(){g.pause();clearInterval(p)},function(){r||(p=setTimeout(g.play,d.interval))});d.autoplay&&setTimeout(g.play,d.interval)});return d.api?e:this}})(jQuery);
(function(a){var b=a.tools.scrollable;b.plugins=b.plugins||{};b.plugins.navigator={version:"1.0.2",conf:{navi:".navi",naviItem:null,activeClass:"active",indexed:false,api:false,idPrefix:null}};a.fn.navigator=function(c){var d=a.extend({},b.plugins.navigator.conf),e;if(typeof c=="string")c={navi:c};c=a.extend(d,c);this.each(function(){var g=a(this).scrollable(),k=g.getRoot(),p=k.data("finder").call(null,c.navi),r=null,f=g.getNaviButtons();if(g)e=g;g.getNaviButtons=function(){return f.add(p)};function i(){if(!p.children().length||
p.data("navi")==g){p.empty();p.data("navi",g);for(var l=0;l<g.getPageAmount();l++)p.append(a("<"+(c.naviItem||"a")+"/>"));r=p.children().each(function(n){var o=a(this);o.click(function(q){g.setPage(n);return q.preventDefault()});c.indexed&&o.text(n);c.idPrefix&&o.attr("id",c.idPrefix+n)})}else{r=c.naviItem?p.find(c.naviItem):p.children();r.each(function(n){var o=a(this);o.click(function(q){g.setPage(n);return q.preventDefault()})})}r.eq(0).addClass(c.activeClass)}g.onStart(function(){var l=c.activeClass;
r.removeClass(l).eq(g.getPageIndex()).addClass(l)});g.onReload(function(){i()});i();k=r.filter("[href="+location.hash+"]");k.length&&g.move(r.index(k))});return c.api?e:this}})(jQuery);
(function(a){a.fn.wheel=function(e){return this[e?"bind":"trigger"]("wheel",e)};a.event.special.wheel={setup:function(){a.event.add(this,b,c,{})},teardown:function(){a.event.remove(this,b,c)}};var b=!a.browser.mozilla?"mousewheel":"DOMMouseScroll"+(a.browser.version<"1.9"?" mousemove":"");function c(e){switch(e.type){case "mousemove":return a.extend(e.data,{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY});case "DOMMouseScroll":a.extend(e,e.data);e.delta=-e.detail/3;break;case "mousewheel":e.delta=
e.wheelDelta/120;break}e.type="wheel";return a.event.handle.call(this,e,e.delta)}var d=a.tools.scrollable;d.plugins=d.plugins||{};d.plugins.mousewheel={version:"1.0.1",conf:{api:false,speed:50}};a.fn.mousewheel=function(e){var g=a.extend({},d.plugins.mousewheel.conf),k;if(typeof e=="number")e={speed:e};e=a.extend(g,e);this.each(function(){var p=a(this).scrollable();if(p)k=p;p.getRoot().wheel(function(r,f){p.move(f<0?1:-1,e.speed||50);return false})});return e.api?k:this}})(jQuery);(function(a){var b={},c,d,e,g="auto",k=a.browser.msie&&/MSIE\s(5\.5|6\.)/.test(navigator.userAgent),p=false;a.tooltip={blocked:false,defaults:{delay:200,fade:false,showURL:true,extraClass:"",top:15,left:15,id:"tooltip"},block:function(){a.tooltip.blocked=!a.tooltip.blocked}};a.fn.extend({tooltip:function(m){m=a.extend({},a.tooltip.defaults,m);r(m);return this.each(function(){a.data(this,"tooltip",m);this.tOpacity=b.parent.css("opacity")}).mouseover(l).mouseup(function(){n()})},hideWhenEmpty:function(){return this.each(function(){a(this)[a(this).html()?
"show":"hide"]()})},url:function(){return this.attr("href")||this.attr("src")}});function r(m){if(!b.parent){b.parent=a('<div id="'+m.id+'"><h3></h3><div class="body"></div><div class="url"></div></div>').appendTo(document.body).hide();a.fn.bgiframe&&b.parent.bgiframe();b.body=a("div.body",b.parent)}}function f(m){if(m)return a.data(m,"tooltip");else a("#tooltip").hide()}function i(m){p=!!f(this).track;a(document.body).bind("mousemove",o);o(m)}function l(){if(!(a.tooltip.blocked||this==c||!this.tooltipText&&
!f(this).bodyHandler)){c=this;i.apply(c,arguments)}}function n(){if(f(c)){b.parent.css({left:e,right:g,top:d});var m=q(),s=b.parent[0];if(e+200>m.x+m.cx){e-=s.offsetWidth+f(c).left+(e+225-(m.x+m.cx));b.parent.css({left:e+"px"}).addClass("viewport-right")}if(d+100>m.y+m.cy){d-=s.offsetHeight+100+f(c).top;b.parent.css({top:d+"px"}).addClass("viewport-bottom")}if(m.x+m.cx<s.offsetLeft+s.offsetWidth){e-=s.offsetWidth+20+f(c).left+150;b.parent.css({left:e+"px"}).addClass("viewport-right")}if(m.y+m.cy<
s.offsetTop+s.offsetHeight){d-=s.offsetHeight+20+f(c).top;b.parent.css({top:d+"px"}).addClass("viewport-bottom")}if(f(c).bodyHandler){m=f(c).bodyHandler.call(c);m.nodeType||m.jquery?b.body.empty().append(m):b.body.html(m);b.body.show()}else if(f(c).showBody){m=f(c).showBody;b.body.empty();s=0;for(var w;w=m[s];s++){s>0&&b.body.append("<br/>");b.body.append(w)}b.body.hideWhenEmpty()}else b.body.hide();b.parent.addClass(f(c).extraClass);f(c).fixPNG&&b.parent.fixPNG();if(f(c)){if((!k||!a.fn.bgiframe)&&
f(c).fade)if(b.parent.is(":animated"))b.parent.stop().show().fadeTo(f(c).fade,c.tOpacity);else b.parent.is(":visible")?b.parent.fadeTo(f(c).fade,c.tOpacity):b.parent.fadeIn(f(c).fade);else b.parent.show();f(c).showHandler&&f(c).showHandler.call(c)}}}function o(m){if(!a.tooltip.blocked)if(f(c))if(!(m&&m.target.tagName=="OPTION")){!p&&b.parent.is(":visible")&&a(document.body).unbind("mousemove",o);if(c==null)a(document.body).unbind("mousemove",o);else{b.parent.removeClass("viewport-right").removeClass("viewport-bottom");
e=b.parent[0].offsetLeft;d=b.parent[0].offsetTop;if(m){e=m.pageX+f(c).left;d=m.pageY+f(c).top;g="auto";if(f(c).positionLeft){g=a(window).width()-left;e="auto"}}}}}function q(){return{x:a(window).scrollLeft(),y:a(window).scrollTop(),cx:a(window).width(),cy:a(window).height()}}})(jQuery);if(!this.JSON)this.JSON={};
(function(){function a(f){return f<10?"0"+f:f}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}}var b=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c=
/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,d,e,g={"\u0008":"\\b","\t":"\\t","\n":"\\n","\u000c":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},k;function p(f){c.lastIndex=0;return c.test(f)?'"'+f.replace(c,function(i){var l=g[i];return typeof l==="string"?l:"\\u"+("0000"+i.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function r(f,i){var l,n,o=d,q,m=i[f];if(m&&typeof m==="object"&&typeof m.toJSON==="function")m=m.toJSON(f);
if(typeof k==="function")m=k.call(i,f,m);switch(typeof m){case "string":return p(m);case "number":return isFinite(m)?String(m):"null";case "boolean":case "null":return String(m);case "object":if(!m)return"null";d+=e;q=[];if(Object.prototype.toString.apply(m)==="[object Array]"){n=m.length;for(f=0;f<n;f+=1)q[f]=r(f,m)||"null";i=q.length===0?"[]":d?"[\n"+d+q.join(",\n"+d)+"\n"+o+"]":"["+q.join(",")+"]";d=o;return i}if(k&&typeof k==="object"){n=k.length;for(f=0;f<n;f+=1){l=k[f];if(typeof l==="string")if(i=
r(l,m))q.push(p(l)+(d?": ":":")+i)}}else for(l in m)if(Object.hasOwnProperty.call(m,l))if(i=r(l,m))q.push(p(l)+(d?": ":":")+i);i=q.length===0?"{}":d?"{\n"+d+q.join(",\n"+d)+"\n"+o+"}":"{"+q.join(",")+"}";d=o;return i}}if(typeof JSON.stringify!=="function")JSON.stringify=function(f,i,l){var n;e=d="";if(typeof l==="number")for(n=0;n<l;n+=1)e+=" ";else if(typeof l==="string")e=l;if((k=i)&&typeof i!=="function"&&(typeof i!=="object"||typeof i.length!=="number"))throw new Error("JSON.stringify");return r("",
{"":f})};if(typeof JSON.parseIt!=="function")JSON.parseIt=function(f,i){function l(n,o){var q,m,s=n[o];if(s&&typeof s==="object")for(q in s)if(Object.hasOwnProperty.call(s,q)){m=l(s,q);if(m!==undefined)s[q]=m;else delete s[q]}return i.call(n,o,s)}b.lastIndex=0;if(b.test(f))f=f.replace(b,function(n){return"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)});if(/^[\],:{}\s]*$/.test(f.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){f=eval("("+f+")");return typeof i==="function"?l({"":f},""):f}throw new SyntaxError("JSON.parseIt");}})();(function(a){a.tools=a.tools||{};a.tools.scrollable={version:"1.1.2",conf:{size:5,vertical:false,speed:400,keyboard:true,keyboardSteps:null,disabledClass:"disabled",hoverClass:null,clickable:true,activeClass:"active",easing:"swing",loop:false,items:".items",item:null,prev:".prev",next:".next",prevPage:".prevPage",nextPage:".nextPage",api:false}};var b;function c(d,e){var g=this,k=a(this),p=!e.vertical,r=d.children(),f=0,i;b||(b=g);a.each(e,function(h,j){a.isFunction(j)&&k.bind(h,j)});if(r.length>
1)r=a(e.items,d);function l(h){var j=a(h);return e.globalNav?j:d.parent().find(h)}d.data("finder",l);var n=l(e.prev),o=l(e.next),q=l(e.prevPage),m=l(e.nextPage);a.extend(g,{getIndex:function(){return f},getClickIndex:function(){var h=g.getItems();return h.index(h.filter("."+e.activeClass))},getConf:function(){return e},getSize:function(){return g.getItems().size()},getPageAmount:function(){return Math.ceil(this.getSize()/e.size)},getPageIndex:function(){return Math.ceil(f/e.size)},getNaviButtons:function(){return n.add(o).add(q).add(m)},
getRoot:function(){return d},getItemWrap:function(){return r},getItems:function(){return r.children(e.item)},getVisibleItems:function(){return g.getItems().slice(f,f+e.size)},seekTo:function(h,j,t){if(h<0)h=0;if(f===h)return g;if(a.isFunction(j))t=j;if(h>g.getSize()-e.size)return e.loop?g.begin():this.end();var u=g.getItems().eq(h);if(!u.length)return g;var v=a.Event("onBeforeSeek");k.trigger(v,h>f);if(v.isDefaultPrevented())return g;if(j===undefined||a.isFunction(j))j=e.speed;function x(){t&&t.call(g,
h);k.trigger("onSeek",[h])}p?r.animate({left:-u.position().left},j,e.easing,x):r.animate({top:-u.position().top},j,e.easing,x);b=g;f=h;v=a.Event("onStart");k.trigger(v,[h]);if(v.isDefaultPrevented())return g;n.add(q).toggleClass(e.disabledClass,h===0);o.add(m).toggleClass(e.disabledClass,h>=g.getSize()-e.size);return g},move:function(h,j,t){i=h>0;return this.seekTo(f+h,j,t)},next:function(h,j){return this.move(1,h,j)},prev:function(h,j){return this.move(-1,h,j)},movePage:function(h,j,t){i=h>0;var u=
e.size*h,v=f%e.size;if(v>0)u+=h>0?-v:e.size-v;return this.move(u,j,t)},prevPage:function(h,j){return this.movePage(-1,h,j)},nextPage:function(h,j){return this.movePage(1,h,j)},setPage:function(h,j,t){return this.seekTo(h*e.size,j,t)},begin:function(h,j){i=false;return this.seekTo(0,h,j)},end:function(h,j){i=true;var t=this.getSize()-e.size;return t>0?this.seekTo(t,h,j):g},reload:function(){k.trigger("onReload");return g},focus:function(){return b=g},click:function(h){var j=g.getItems().eq(h),t=e.activeClass,
u=e.size;if(h<0||h>=g.getSize())return g;if(u==1){if(e.loop)return g.next();if(h===0||h==g.getSize()-1)i=i===undefined?true:!i;return i===false?g.prev():g.next()}if(u==2){h==f&&h--;g.getItems().removeClass(t);j.addClass(t);return g.seekTo(h,time,fn)}if(!j.hasClass(t)){g.getItems().removeClass(t);j.addClass(t);j=Math.floor(u/2);j=h-j;if(j>g.getSize()-u)j=g.getSize()-u;if(j!==h)return g.seekTo(j)}return g},bind:function(h,j){k.bind(h,j);return g},unbind:function(h){k.unbind(h);return g}});a.each("onBeforeSeek,onStart,onSeek,onReload".split(","),
function(h,j){g[j]=function(t){return g.bind(j,t)}});n.addClass(e.disabledClass).click(function(){g.prev()});o.click(function(){g.next()});m.click(function(){g.nextPage()});g.getSize()<e.size&&o.add(m).addClass(e.disabledClass);q.addClass(e.disabledClass).click(function(){g.prevPage()});var s=e.hoverClass,w="keydown."+Math.random().toString().substring(10);g.onReload(function(){s&&g.getItems().hover(function(){a(this).addClass(s)},function(){a(this).removeClass(s)});e.clickable&&g.getItems().each(function(h){a(this).unbind("click.scrollable").bind("click.scrollable",
function(j){if(!a(j.target).is("a"))return g.click(h)})});e.keyboard?a(document).unbind(w).bind(w,function(h){if(!(h.altKey||h.ctrlKey))if(!(e.keyboard!="static"&&b!=g)){var j=e.keyboardSteps;if(p&&(h.keyCode==37||h.keyCode==39)){g.move(h.keyCode==37?-j:j);return h.preventDefault()}if(!p&&(h.keyCode==38||h.keyCode==40)){g.move(h.keyCode==38?-j:j);return h.preventDefault()}return true}}):a(document).unbind(w)});g.reload()}a.fn.scrollable=function(d){var e=this.eq(typeof d=="number"?d:0).data("scrollable");
if(e)return e;var g=a.extend({},a.tools.scrollable.conf);d=a.extend(g,d);d.keyboardSteps=d.keyboardSteps||d.size;this.each(function(){e=new c(a(this),d);a(this).data("scrollable",e)});return d.api?e:this}})(jQuery);(function(a){a.fn.wheel=function(e){return this[e?"bind":"trigger"]("wheel",e)};a.event.special.wheel={setup:function(){a.event.add(this,b,c,{})},teardown:function(){a.event.remove(this,b,c)}};var b=!a.browser.mozilla?"mousewheel":"DOMMouseScroll"+(a.browser.version<"1.9"?" mousemove":"");function c(e){switch(e.type){case "mousemove":return a.extend(e.data,{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY});case "DOMMouseScroll":a.extend(e,e.data);e.delta=-e.detail/3;break;case "mousewheel":e.delta=
e.wheelDelta/120;break}e.type="wheel";return a.event.handle.call(this,e,e.delta)}var d=a.tools.scrollable;d.plugins=d.plugins||{};d.plugins.mousewheel={version:"1.0.1",conf:{api:false,speed:50}};a.fn.mousewheel=function(e){var g=a.extend({},d.plugins.mousewheel.conf),k;if(typeof e=="number")e={speed:e};e=a.extend(g,e);this.each(function(){var p=a(this).scrollable();if(p)k=p;p.getRoot().wheel(function(r,f){p.move(f<0?1:-1,e.speed||50);return false})});return e.api?k:this}})(jQuery);jQuery.ui||function(a){var b=a.fn.remove,c=a.browser.mozilla&&parseFloat(a.browser.version)<1.9;a.ui={version:"1.7.2",plugin:{add:function(f,i,l){f=a.ui[f].prototype;for(var n in l){f.plugins[n]=f.plugins[n]||[];f.plugins[n].push([i,l[n]])}},call:function(f,i,l){if((i=f.plugins[i])&&f.element[0].parentNode)for(var n=0;n<i.length;n++)f.options[i[n][0]]&&i[n][1].apply(f.element,l)}},contains:function(f,i){return document.compareDocumentPosition?f.compareDocumentPosition(i)&16:f!==i&&f.contains(i)},
hasScroll:function(f,i){if(a(f).css("overflow")=="hidden")return false;i=i&&i=="left"?"scrollLeft":"scrollTop";var l=false;if(f[i]>0)return true;f[i]=1;l=f[i]>0;f[i]=0;return l},isOverAxis:function(f,i,l){return f>i&&f<i+l},isOver:function(f,i,l,n,o,q){return a.ui.isOverAxis(f,l,o)&&a.ui.isOverAxis(i,n,q)},keyCode:{BACKSPACE:8,CAPS_LOCK:20,COMMA:188,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,
NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38}};if(c){var d=a.attr,e=a.fn.removeAttr,g="http://www.w3.org/2005/07/aaa",k=/^aria-/,p=/^wairole:/;a.attr=function(f,i,l){var n=l!==undefined;return i=="role"?n?d.call(this,f,i,"wairole:"+l):(d.apply(this,arguments)||"").replace(p,""):k.test(i)?n?f.setAttributeNS(g,i.replace(k,"aaa:"),l):d.call(this,f,i.replace(k,"aaa:")):d.apply(this,arguments)};a.fn.removeAttr=function(f){return k.test(f)?
this.each(function(){this.removeAttributeNS(g,f.replace(k,""))}):e.call(this,f)}}a.fn.extend({remove:function(){a("*",this).add(this).each(function(){a(this).triggerHandler("remove")});return b.apply(this,arguments)},enableSelection:function(){return this.attr("unselectable","off").css("MozUserSelect","").unbind("selectstart.ui")},disableSelection:function(){return this.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return false})},scrollParent:function(){var f;
f=a.browser.msie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.curCSS(this,"position",1))&&/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.curCSS(this,"overflow",1)+a.curCSS(this,"overflow-y",1)+a.curCSS(this,"overflow-x",1))}).eq(0);return/fixed/.test(this.css("position"))||
!f.length?a(document):f}});a.extend(a.expr[":"],{data:function(f,i,l){return!!a.data(f,l[3])},focusable:function(f){var i=f.nodeName.toLowerCase(),l=a.attr(f,"tabindex");return(/input|select|textarea|button|object/.test(i)?!f.disabled:"a"==i||"area"==i?f.href||!isNaN(l):!isNaN(l))&&!a(f)["area"==i?"parents":"closest"](":hidden").length},tabbable:function(f){var i=a.attr(f,"tabindex");return(isNaN(i)||i>=0)&&a(f).is(":focusable")}});function r(f,i,l,n){function o(m){m=a[f][i][m]||[];return typeof m==
"string"?m.split(/,?\s+/):m}var q=o("getter");if(n.length==1&&typeof n[0]=="string")q=q.concat(o("getterSetter"));return a.inArray(l,q)!=-1}a.widget=function(f,i){var l=f.split(".")[0];f=f.split(".")[1];a.fn[f]=function(n){var o=typeof n=="string",q=Array.prototype.slice.call(arguments,1);if(o&&n.substring(0,1)=="_")return this;if(o&&r(l,f,n,q)){var m=a.data(this[0],f);return m?m[n].apply(m,q):undefined}return this.each(function(){var s=a.data(this,f);!s&&!o&&a.data(this,f,new a[l][f](this,n))._init();
s&&o&&a.isFunction(s[n])&&s[n].apply(s,q)})};a[l]=a[l]||{};a[l][f]=function(n,o){var q=this;this.namespace=l;this.widgetName=f;this.widgetEventPrefix=a[l][f].eventPrefix||f;this.widgetBaseClass=l+"-"+f;this.options=a.extend({},a.widget.defaults,a[l][f].defaults,a.metadata&&a.metadata.get(n)[f],o);this.element=a(n).bind("setData."+f,function(m,s,w){if(m.target==n)return q._setData(s,w)}).bind("getData."+f,function(m,s){if(m.target==n)return q._getData(s)}).bind("remove",function(){return q.destroy()})};
a[l][f].prototype=a.extend({},a.widget.prototype,i);a[l][f].getterSetter="option"};a.widget.prototype={_init:function(){},destroy:function(){this.element.removeData(this.widgetName).removeClass(this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").removeAttr("aria-disabled")},option:function(f,i){var l=f,n=this;if(typeof f=="string"){if(i===undefined)return this._getData(f);l={};l[f]=i}a.each(l,function(o,q){n._setData(o,q)})},_getData:function(f){return this.options[f]},_setData:function(f,
i){this.options[f]=i;if(f=="disabled")this.element[i?"addClass":"removeClass"](this.widgetBaseClass+"-disabled "+this.namespace+"-state-disabled").attr("aria-disabled",i)},enable:function(){this._setData("disabled",false)},disable:function(){this._setData("disabled",true)},_trigger:function(f,i,l){var n=this.options[f];f=f==this.widgetEventPrefix?f:this.widgetEventPrefix+f;i=a.Event(i);i.type=f;if(i.originalEvent){f=a.event.props.length;for(var o;f;){o=a.event.props[--f];i[o]=i.originalEvent[o]}}this.element.trigger(i,
l);return!(a.isFunction(n)&&n.call(this.element[0],i,l)===false||i.isDefaultPrevented())}};a.widget.defaults={disabled:false};a.ui.mouse={_mouseInit:function(){var f=this;this.element.bind("mousedown."+this.widgetName,function(i){return f._mouseDown(i)}).bind("click."+this.widgetName,function(i){if(f._preventClickEvent){f._preventClickEvent=false;i.stopImmediatePropagation();return false}});if(a.browser.msie){this._mouseUnselectable=this.element.attr("unselectable");this.element.attr("unselectable",
"on")}this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);a.browser.msie&&this.element.attr("unselectable",this._mouseUnselectable)},_mouseDown:function(f){f.originalEvent=f.originalEvent||{};if(!f.originalEvent.mouseHandled){this._mouseStarted&&this._mouseUp(f);this._mouseDownEvent=f;var i=this,l=f.which==1,n=typeof this.options.cancel=="string"?a(f.target).parents().add(f.target).filter(this.options.cancel).length:false;if(!l||n||!this._mouseCapture(f))return true;
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet)this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=true},this.options.delay);if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=this._mouseStart(f)!==false;if(!this._mouseStarted){f.preventDefault();return true}}this._mouseMoveDelegate=function(o){return i._mouseMove(o)};this._mouseUpDelegate=function(o){return i._mouseUp(o)};a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+
this.widgetName,this._mouseUpDelegate);a.browser.safari||f.preventDefault();return f.originalEvent.mouseHandled=true}},_mouseMove:function(f){if(a.browser.msie&&!f.button)return this._mouseUp(f);if(this._mouseStarted){this._mouseDrag(f);return f.preventDefault()}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f))(this._mouseStarted=this._mouseStart(this._mouseDownEvent,f)!==false)?this._mouseDrag(f):this._mouseUp(f);return!this._mouseStarted},_mouseUp:function(f){a(document).unbind("mousemove."+
this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;this._preventClickEvent=f.target==this._mouseDownEvent.target;this._mouseStop(f)}return false},_mouseDistanceMet:function(f){return Math.max(Math.abs(this._mouseDownEvent.pageX-f.pageX),Math.abs(this._mouseDownEvent.pageY-f.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},
_mouseStop:function(){},_mouseCapture:function(){return true}};a.ui.mouse.defaults={cancel:null,distance:1,delay:0}}(jQuery);(function(a){a.widget("ui.draggable",a.extend({},a.ui.mouse,{_init:function(){if(this.options.helper=="original"&&!/^(?:r|a|f)/.test(this.element.css("position")))this.element[0].style.position="relative";this.options.addClasses&&this.element.addClass("ui-draggable");this.options.disabled&&this.element.addClass("ui-draggable-disabled");this._mouseInit()},destroy:function(){if(this.element.data("draggable")){this.element.removeData("draggable").unbind(".draggable").removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");
this._mouseDestroy()}},_mouseCapture:function(b){var c=this.options;if(this.helper||c.disabled||a(b.target).is(".ui-resizable-handle"))return false;this.handle=this._getHandle(b);if(!this.handle)return false;return true},_mouseStart:function(b){var c=this.options;this.helper=this._createHelper(b);this._cacheHelperProportions();if(a.ui.ddmanager)a.ui.ddmanager.current=this;this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.element.offset();
this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this._generatePosition(b);this.originalPageX=b.pageX;this.originalPageY=b.pageY;c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt);c.containment&&this._setContainment();this._trigger("start",b);this._cacheHelperProportions();a.ui.ddmanager&&
!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b);this.helper.addClass("ui-draggable-dragging");this._mouseDrag(b,true);return true},_mouseDrag:function(b,c){this.position=this._generatePosition(b);this.positionAbs=this._convertPositionTo("absolute");if(!c){c=this._uiHash();this._trigger("drag",b,c);this.position=c.position}if(!this.options.axis||this.options.axis!="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!="x")this.helper[0].style.top=this.position.top+
"px";a.ui.ddmanager&&a.ui.ddmanager.drag(this,b);return false},_mouseStop:function(b){var c=false;if(a.ui.ddmanager&&!this.options.dropBehaviour)c=a.ui.ddmanager.drop(this,b);if(this.dropped){c=this.dropped;this.dropped=false}if(this.options.revert=="invalid"&&!c||this.options.revert=="valid"&&c||this.options.revert===true||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,c)){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",
b);d._clear()})}else{this._trigger("stop",b);this._clear()}return false},_getHandle:function(b){var c=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==b.target)c=true});return c},_createHelper:function(b){var c=this.options;b=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):c.helper=="clone"?this.element.clone():this.element;b.parents("body").length||b.appendTo(c.appendTo=="parent"?
this.element[0].parentNode:c.appendTo);b[0]!=this.element[0]&&!/(fixed|absolute)/.test(b.css("position"))&&b.css("position","absolute");return b},_adjustOffsetFromHelper:function(b){if(b.left!=undefined)this.offset.click.left=b.left+this.margins.left;if(b.right!=undefined)this.offset.click.left=this.helperProportions.width-b.right+this.margins.left;if(b.top!=undefined)this.offset.click.top=b.top+this.margins.top;if(b.bottom!=undefined)this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top},
_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0])){b.left+=this.scrollParent.scrollLeft();b.top+=this.scrollParent.scrollTop()}if(this.offsetParent[0]==document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.browser.msie)b={top:0,left:0};return{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),
10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var b=this.element.position();return{top:b.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:b.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),
10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b=this.options;if(b.containment=="parent")b.containment=this.helper[0].parentNode;if(b.containment=="document"||b.containment=="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(b.containment=="document"?document:window).width()-this.helperProportions.width-
this.margins.left,(a(b.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];if(!/^(document|window|parent)jQuery/.test(b.containment)&&b.containment.constructor!=Array){var c=a(b.containment)[0];if(c){b=a(b.containment).offset();var d=a(c).css("overflow")!="hidden";this.containment=[b.left+(parseInt(a(c).css("borderLeftWidth"),10)||0)+(parseInt(a(c).css("paddingLeft"),10)||0)-this.margins.left,b.top+(parseInt(a(c).css("borderTopWidth"),
10)||0)+(parseInt(a(c).css("paddingTop"),10)||0)-this.margins.top,b.left+(d?Math.max(c.scrollWidth,c.offsetWidth):c.offsetWidth)-(parseInt(a(c).css("borderLeftWidth"),10)||0)-(parseInt(a(c).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,b.top+(d?Math.max(c.scrollHeight,c.offsetHeight):c.offsetHeight)-(parseInt(a(c).css("borderTopWidth"),10)||0)-(parseInt(a(c).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}}else if(b.containment.constructor==
Array)this.containment=b.containment},_convertPositionTo:function(b,c){if(!c)c=this.position;b=b=="absolute"?1:-1;var d=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName);return{top:c.top+this.offset.relative.top*b+this.offset.parent.top*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop())*
b),left:c.left+this.offset.relative.left*b+this.offset.parent.left*b-(a.browser.safari&&this.cssPosition=="fixed"?0:(this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())*b)}},_generatePosition:function(b){var c=this.options,d=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.ui.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,e=/(html|body)/i.test(d[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=
document&&this.scrollParent[0]!=this.offsetParent[0]))this.offset.relative=this._getRelativeOffset();var g=b.pageX,k=b.pageY;if(this.originalPosition){if(this.containment){if(b.pageX-this.offset.click.left<this.containment[0])g=this.containment[0]+this.offset.click.left;if(b.pageY-this.offset.click.top<this.containment[1])k=this.containment[1]+this.offset.click.top;if(b.pageX-this.offset.click.left>this.containment[2])g=this.containment[2]+this.offset.click.left;if(b.pageY-this.offset.click.top>this.containment[3])k=
this.containment[3]+this.offset.click.top}if(c.grid){k=this.originalPageY+Math.round((k-this.originalPageY)/c.grid[1])*c.grid[1];k=this.containment?!(k-this.offset.click.top<this.containment[1]||k-this.offset.click.top>this.containment[3])?k:!(k-this.offset.click.top<this.containment[1])?k-c.grid[1]:k+c.grid[1]:k;g=this.originalPageX+Math.round((g-this.originalPageX)/c.grid[0])*c.grid[0];g=this.containment?!(g-this.offset.click.left<this.containment[0]||g-this.offset.click.left>this.containment[2])?
g:!(g-this.offset.click.left<this.containment[0])?g-c.grid[0]:g+c.grid[0]:g}}return{top:k-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollTop():e?0:d.scrollTop()),left:g-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(a.browser.safari&&this.cssPosition=="fixed"?0:this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():e?0:d.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");
this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove();this.helper=null;this.cancelHelperRemoval=false},_trigger:function(b,c,d){d=d||this._uiHash();a.ui.plugin.call(this,b,[c,d]);if(b=="drag")this.positionAbs=this._convertPositionTo("absolute");return a.widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,absolutePosition:this.positionAbs,offset:this.positionAbs}}}));a.extend(a.ui.draggable,{version:"1.7.2",
eventPrefix:"drag",defaults:{addClasses:true,appendTo:"parent",axis:false,cancel:":input,option",connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,delay:0,distance:1,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false}});a.ui.plugin.add("draggable","connectToSortable",{start:function(b,
c){var d=a(this).data("draggable"),e=d.options,g=a.extend({},c,{item:d.element});d.sortables=[];a(e.connectToSortable).each(function(){var k=a.data(this,"sortable");if(k&&!k.options.disabled){d.sortables.push({instance:k,shouldRevert:k.options.revert});k._refreshItems();k._trigger("activate",b,g)}})},stop:function(b,c){var d=a(this).data("draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;d.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=
false;if(this.shouldRevert)this.instance.options.revert=true;this.instance._mouseStop(b);this.instance.options.helper=this.instance.options._helper;d.options.helper=="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",b,e)}})},drag:function(b,c){var d=a(this).data("draggable"),e=this;a.each(d.sortables,function(){this.instance.positionAbs=d.positionAbs;this.instance.helperProportions=d.helperProportions;
this.instance.offset.click=d.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(e).clone().appendTo(this.instance.element).data("sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return c.helper[0]};b.target=this.instance.currentItem[0];this.instance._mouseCapture(b,true);this.instance._mouseStart(b,true,true);this.instance.offset.click.top=
d.offset.click.top;this.instance.offset.click.left=d.offset.click.left;this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top;d._trigger("toSortable",b);d.dropped=this.instance.element;d.currentItem=d.element;this.instance.fromOutside=d}this.instance.currentItem&&this.instance._mouseDrag(b)}else if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;
this.instance.options.revert=false;this.instance._trigger("out",b,this.instance._uiHash(this.instance));this.instance._mouseStop(b,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();this.instance.placeholder&&this.instance.placeholder.remove();d._trigger("fromSortable",b);d.dropped=false}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("draggable").options;if(b.css("cursor"))c._cursor=b.css("cursor");b.css("cursor",
c.cursor)},stop:function(){if(a(this).data("draggable")){var b=a(this).data("draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}});a.ui.plugin.add("draggable","iframeFix",{start:function(){var b=a(this).data("draggable").options;a(b.iframeFix===true?"iframe":b.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")})},
stop:function(){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)})}});a.ui.plugin.add("draggable","opacity",{start:function(b,c){b=a(c.helper);c=a(this).data("draggable").options;if(b.css("opacity"))c._opacity=b.css("opacity");b.css("opacity",c.opacity)},stop:function(b,c){b=a(this).data("draggable").options;b._opacity&&a(c.helper).css("opacity",b._opacity)}});a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("draggable");if(b.scrollParent[0]!=
document&&b.scrollParent[0].tagName!="HTML")b.overflowOffset=b.scrollParent.offset()},drag:function(b){var c=a(this).data("draggable"),d=c.options,e=false;if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){if(!d.axis||d.axis!="x")if(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity)c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed;else if(b.pageY-c.overflowOffset.top<d.scrollSensitivity)c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-
d.scrollSpeed;if(!d.axis||d.axis!="y")if(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity)c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed;else if(b.pageX-c.overflowOffset.left<d.scrollSensitivity)c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed}else{if(!d.axis||d.axis!="x")if(b.pageY-a(document).scrollTop()<d.scrollSensitivity)e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed);else if(a(window).height()-
(b.pageY-a(document).scrollTop())<d.scrollSensitivity)e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed);if(!d.axis||d.axis!="y")if(b.pageX-a(document).scrollLeft()<d.scrollSensitivity)e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed);else if(a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity)e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)}e!==false&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}});a.ui.plugin.add("draggable",
"snap",{start:function(){var b=a(this).data("draggable"),c=b.options;b.snapElements=[];a(c.snap.constructor!=String?c.snap.items||":data(draggable)":c.snap).each(function(){var d=a(this),e=d.offset();this!=b.element[0]&&b.snapElements.push({item:this,width:d.outerWidth(),height:d.outerHeight(),top:e.top,left:e.left})})},drag:function(b,c){for(var d=a(this).data("draggable"),e=d.options,g=e.snapTolerance,k=c.offset.left,p=k+d.helperProportions.width,r=c.offset.top,f=r+d.helperProportions.height,i=
d.snapElements.length-1;i>=0;i--){var l=d.snapElements[i].left,n=l+d.snapElements[i].width,o=d.snapElements[i].top,q=o+d.snapElements[i].height;if(l-g<k&&k<n+g&&o-g<r&&r<q+g||l-g<k&&k<n+g&&o-g<f&&f<q+g||l-g<p&&p<n+g&&o-g<r&&r<q+g||l-g<p&&p<n+g&&o-g<f&&f<q+g){if(e.snapMode!="inner"){var m=Math.abs(o-f)<=g,s=Math.abs(q-r)<=g,w=Math.abs(l-p)<=g,h=Math.abs(n-k)<=g;if(m)c.position.top=d._convertPositionTo("relative",{top:o-d.helperProportions.height,left:0}).top-d.margins.top;if(s)c.position.top=d._convertPositionTo("relative",
{top:q,left:0}).top-d.margins.top;if(w)c.position.left=d._convertPositionTo("relative",{top:0,left:l-d.helperProportions.width}).left-d.margins.left;if(h)c.position.left=d._convertPositionTo("relative",{top:0,left:n}).left-d.margins.left}var j=m||s||w||h;if(e.snapMode!="outer"){m=Math.abs(o-r)<=g;s=Math.abs(q-f)<=g;w=Math.abs(l-k)<=g;h=Math.abs(n-p)<=g;if(m)c.position.top=d._convertPositionTo("relative",{top:o,left:0}).top-d.margins.top;if(s)c.position.top=d._convertPositionTo("relative",{top:q-d.helperProportions.height,
left:0}).top-d.margins.top;if(w)c.position.left=d._convertPositionTo("relative",{top:0,left:l}).left-d.margins.left;if(h)c.position.left=d._convertPositionTo("relative",{top:0,left:n-d.helperProportions.width}).left-d.margins.left}if(!d.snapElements[i].snapping&&(m||s||w||h||j))d.options.snap.snap&&d.options.snap.snap.call(d.element,b,a.extend(d._uiHash(),{snapItem:d.snapElements[i].item}));d.snapElements[i].snapping=m||s||w||h||j}else{d.snapElements[i].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,
b,a.extend(d._uiHash(),{snapItem:d.snapElements[i].item}));d.snapElements[i].snapping=false}}}});a.ui.plugin.add("draggable","stack",{start:function(){var b=a(this).data("draggable").options,c=a.makeArray(a(b.stack.group)).sort(function(d,e){return(parseInt(a(d).css("zIndex"),10)||b.stack.min)-(parseInt(a(e).css("zIndex"),10)||b.stack.min)});a(c).each(function(d){this.style.zIndex=b.stack.min+d});this[0].style.zIndex=b.stack.min+c.length}});a.ui.plugin.add("draggable","zIndex",{start:function(b,c){b=
a(c.helper);c=a(this).data("draggable").options;if(b.css("zIndex"))c._zIndex=b.css("zIndex");b.css("zIndex",c.zIndex)},stop:function(b,c){b=a(this).data("draggable").options;b._zIndex&&a(c.helper).css("zIndex",b._zIndex)}})})(jQuery);(function(a){a.widget("ui.droppable",{_init:function(){var b=this.options,c=b.accept;this.isover=0;this.isout=1;this.options.accept=this.options.accept&&a.isFunction(this.options.accept)?this.options.accept:function(d){return d.is(c)};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};a.ui.ddmanager.droppables[this.options.scope]=a.ui.ddmanager.droppables[this.options.scope]||[];a.ui.ddmanager.droppables[this.options.scope].push(this);this.options.addClasses&&
this.element.addClass("ui-droppable")},destroy:function(){for(var b=a.ui.ddmanager.droppables[this.options.scope],c=0;c<b.length;c++)b[c]==this&&b.splice(c,1);this.element.removeClass("ui-droppable ui-droppable-disabled").removeData("droppable").unbind(".droppable")},_setData:function(b,c){if(b=="accept")this.options.accept=c&&a.isFunction(c)?c:function(d){return d.is(c)};else a.widget.prototype._setData.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&
this.element.addClass(this.options.activeClass);c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass);c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;if(!(!c||(c.currentItem||c.element)[0]==this.element[0]))if(this.options.accept.call(this.element[0],c.currentItem||c.element)){this.options.hoverClass&&this.element.addClass(this.options.hoverClass);
this._trigger("over",b,this.ui(c))}},_out:function(b){var c=a.ui.ddmanager.current;if(!(!c||(c.currentItem||c.element)[0]==this.element[0]))if(this.options.accept.call(this.element[0],c.currentItem||c.element)){this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("out",b,this.ui(c))}},_drop:function(b,c){var d=c||a.ui.ddmanager.current;if(!d||(d.currentItem||d.element)[0]==this.element[0])return false;var e=false;this.element.find(":data(droppable)").not(".ui-draggable-dragging").each(function(){var g=
a.data(this,"droppable");if(g.options.greedy&&a.ui.intersect(d,a.extend(g,{offset:g.element.offset()}),g.options.tolerance)){e=true;return false}});if(e)return false;if(this.options.accept.call(this.element[0],d.currentItem||d.element)){this.options.activeClass&&this.element.removeClass(this.options.activeClass);this.options.hoverClass&&this.element.removeClass(this.options.hoverClass);this._trigger("drop",b,this.ui(d));return this.element}return false},ui:function(b){return{draggable:b.currentItem||
b.element,helper:b.helper,position:b.position,absolutePosition:b.positionAbs,offset:b.positionAbs}}});a.extend(a.ui.droppable,{version:"1.7.2",eventPrefix:"drop",defaults:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect"}});a.ui.intersect=function(b,c,d){if(!c.offset)return false;var e=(b.positionAbs||b.position.absolute).left,g=e+b.helperProportions.width,k=(b.positionAbs||b.position.absolute).top,p=k+b.helperProportions.height,r=c.offset.left,
f=r+c.proportions.width,i=c.offset.top,l=i+c.proportions.height;switch(d){case "fit":return r<e&&g<f&&i<k&&p<l;case "intersect":return r<e+b.helperProportions.width/2&&g-b.helperProportions.width/2<f&&i<k+b.helperProportions.height/2&&p-b.helperProportions.height/2<l;case "pointer":d=(b.positionAbs||b.position.absolute).left+(b.clickOffset||b.offset.click).left;b=(b.positionAbs||b.position.absolute).top+(b.clickOffset||b.offset.click).top;return c=a.ui.isOver(b,d,i,r,c.proportions.height,c.proportions.width);
case "touch":return(k>=i&&k<=l||p>=i&&p<=l||k<i&&p>l)&&(e>=r&&e<=f||g>=r&&g<=f||e<r&&g>f);default:return false}};a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d=a.ui.ddmanager.droppables[b.options.scope],e=c?c.type:null,g=(b.currentItem||b.element).find(":data(droppable)").andSelf(),k=0;a:for(;k<d.length;k++)if(!(d[k].options.disabled||b&&!d[k].options.accept.call(d[k].element[0],b.currentItem||b.element))){for(var p=0;p<g.length;p++)if(g[p]==d[k].element[0]){d[k].proportions.height=
0;continue a}d[k].visible=d[k].element.css("display")!="none";if(d[k].visible){d[k].offset=d[k].element.offset();d[k].proportions={width:d[k].element[0].offsetWidth,height:d[k].element[0].offsetHeight};e=="mousedown"&&d[k]._activate.call(d[k],c)}}},drop:function(b,c){var d=false;a.each(a.ui.ddmanager.droppables[b.options.scope],function(){if(this.options){if(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance))d=this._drop.call(this,c);if(!this.options.disabled&&this.visible&&
this.options.accept.call(this.element[0],b.currentItem||b.element)){this.isout=1;this.isover=0;this._deactivate.call(this,c)}}});return d},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c);a.each(a.ui.ddmanager.droppables[b.options.scope],function(){if(!(this.options.disabled||this.greedyChild||!this.visible)){var d=a.ui.intersect(b,this,this.options.tolerance);if(d=!d&&this.isover==1?"isout":d&&this.isover==0?"isover":null){var e;if(this.options.greedy){var g=this.element.parents(":data(droppable):eq(0)");
if(g.length){e=a.data(g[0],"droppable");e.greedyChild=d=="isover"?1:0}}if(e&&d=="isover"){e.isover=0;e.isout=1;e._out.call(e,c)}this[d]=1;this[d=="isout"?"isover":"isout"]=0;this[d=="isover"?"_over":"_out"].call(this,c);if(e&&d=="isout"){e.isout=0;e.isover=1;e._over.call(e,c)}}}})}}})(jQuery);
